<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css"><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css"></head><body><div><h1>clojisr.v1.tutorial-test</h1><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Sun Mar 29 13:08:40 CEST 2020.</small></i><hr></div><div>Checks: <b class="PASSED">59 PASSED </b><hr></div><div>Table of contents<ul><li><a href="#basic-examples">basic-examples</a></li><li><a href="#functions">functions</a></li><li><a href="#R-dataframes-and-tech.ml.dataset">R-dataframes-and-tech.ml.dataset</a></li><li><a href="#ROBjects">ROBjects</a></li><li><a href="#generating-code">generating-code</a></li><li><a href="#running-generated-code">running-generated-code</a></li><li><a href="#requiring-R-packages">requiring-R-packages</a></li><li><a href="#data-visualization">data-visualization</a></li><li><a href="#intermediary-representation-as-Java-objects">intermediary-representation-as-Java-objects</a></li><li><a href="#more-data-conversion-examples">more-data-conversion-examples</a></li><li><a href="#inspecting-R-functions">inspecting-R-functions</a></li><li><a href="#R-function-arglists">R-function-arglists</a></li><li><a href="#using-Renjin">using-Renjin</a></li></ul><hr></div><div class="nspbox"><div><h1>Clojisr tutorial</h1></div></div><div class="nspbox"><a id="basic-examples"> </a><div><h2>Basic examples</h2></div></div><div class="nspbox"><div><p>Let us start by some basic usage examples of Clojisr.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r&nbsp;eval-r->java&nbsp;r->java&nbsp;java->r&nbsp;java->clj&nbsp;java->naive-clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java&nbsp;r->clj&nbsp;clj->r&nbsp;->code&nbsp;r+&nbsp;colon]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.robject&nbsp;:as&nbsp;robject]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.session&nbsp;:as&nbsp;session]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.rserve&nbsp;:as&nbsp;rserve]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tech.ml.dataset&nbsp;:as&nbsp;dataset])</code></div></div><div class="nspbox"><div><p>First, let us make sure that we use the Rserve backend (in case we were using Renjin instead earlier), and that there are no R sessions currently running. This is typically not needed if you just started working. Here, we do it just in case.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(rserve/set-as-default!)&nbsp;(r/discard-all-sessions)</code></div></div><div class="nspbox"><div><p>Now let us run some R code, and keep a Clojure handle to the return value.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div><p>The thing we created is something called an ROBject.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(class&nbsp;x)</code></div><div class="nspout"><code class="prettyprint lang-clj">clojisr.v1.robject.RObject</code></div></div><div class="nspbox"><div><p>If we wish, we can convert an ROBject to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div><p>Let us see more examples of creating ROBjects and converting them to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(A=1,B=2,'#123strange<text>&nbsp;()'=3)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}]</code></div></div><div class="nspbox"><div><p>In the other direction, we can convert Clojure data to R data. Note that <code>nil</code> is turned to <code>NA</code>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->r)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;&nbsp;1&nbsp;NA&nbsp;&nbsp;3</code></div></div><div class="nspbox"><div><p>We can run code on a separate R session (specify session-args which are different than the default ones).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args&nbsp;{:session-name&nbsp;"mysession"})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[3.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="functions"> </a><div><h2>Functions</h2></div></div><div class="nspbox"><div><p>An R function is also a Clojure function.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x)&nbsp;x*10"))</code></div></div><div class="nspbox"><div><p>Let us apply it to Clojure data (implicitly converting that data to R).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div><p>We can also apply it to R data.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div><p>Functions can get named arguments. Here we pass the <code>na.rm</code> argument, that tells R whether to remove missing values whenn computing the mean.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;:na.rm&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div><p>Another example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[f&nbsp;(r&nbsp;"function(w,x,y=10,z=20)&nbsp;w+x+y+z")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;[(f&nbsp;1&nbsp;2)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:y&nbsp;100)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:z&nbsp;100)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[[33.0]&nbsp;[123.0]&nbsp;[113.0]])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;([33.0]&nbsp;[123.0]&nbsp;[113.0])]</code></div></div><div class="nspbox"><div><p>Some functions are already created in Clojisr and given special names for convenience. Here are some examples:</p></div></div><div class="nspbox"><div><p>R addition:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r+&nbsp;1&nbsp;2&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[6.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[6.0]]</code></div></div><div class="nspbox"><div><p>R colon (<code>:</code>), for creating a range of integers, like <code>0:9</code>:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(colon&nbsp;0&nbsp;9)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><a id="R-dataframes-and-tech.ml.dataset"> </a><div><h2>R dataframes and tech.ml.dataset datasets</h2></div></div><div class="nspbox"><div><p>At Clojure, we have a structure that is equivalent to R dataframes: a <a href='https://github.com/techascent/tech.ml.dataset'>tech.ml.dataset</a> dataset.</p><p>Let us create such a dataset, pass it to an R function to compute the row means, and then convert the return value back to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;"function(data)&nbsp;rowMeans(data)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div><p>Let us see some more dataset proccessing through R.</p></div></div><div class="nspbox"><div><p>Loading the R package <a href='https://dplyr.tidyverse.org/'>dplyr</a> (assuming it is installed).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(dplyr)")</code></div></div><div class="nspbox"><div><p>Using dplyr to process some Clojure dataset, and convert back to the resulting dataset.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;"function(data)&nbsp;filter(data,&nbsp;x>=2)")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;"function(data)&nbsp;mutate(data,&nbsp;z=x+y)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;(fn&nbsp;[d]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;[{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0,&nbsp;:z&nbsp;7.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0,&nbsp;:z&nbsp;9.0}]))))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;|</br>|-------+-------+-------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;9.000&nbsp;|</br>]</code></div></div><div class="nspbox"><div><p><a href='https://tibble.tidyverse.org'>Tibbles</a>, which are a more recent R dataframe notion, are also supported, as a special case of data frames.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(tibble)")</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">#&nbsp;A&nbsp;tibble:&nbsp;3&nbsp;x&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;<dbl>&nbsp;<dbl></br>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</br>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0}])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;({:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0})]</code></div></div><div class="nspbox"><a id="ROBjects"> </a><div><h2>R objects</h2></div></div><div class="nspbox"><div><p>Clojisr holds handles to R objects, that are stored in memory at the R session, where they are assigned random names.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;one+two&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;clojisr.v1.robject.RObject))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;clojisr.v1.robject.RObject]</code></div></div><div class="nspbox"><div><p>The name of an object is the place where it is held at R (inside an R <a href='http://adv-r.had.co.nz/Environments.html'>evnironment</a> called <code>.MEM</code>).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(:object-name&nbsp;one+two)</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$xf20935c1f2c94f8e"</code></div></div><div class="nspbox"><a id="generating-code"> </a><div><h2>Generating code</h2></div></div><div class="nspbox"><div><p>Let us see the mechanism by which clojisr generates R code, and the rules defining it.</p></div></div><div class="nspbox"><div><p>Since we are playing a bit with the internals here, we will need a reference to the R session:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;session&nbsp;(session/fetch-or-make&nbsp;nil))</code></div></div><div class="nspbox"><div><p>For the following examples, we will use some <strong>dummy</strong> handles to R objects with given names:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(robject/->RObject&nbsp;"robject_x"&nbsp;session&nbsp;nil&nbsp;nil))</br>&nbsp;(def&nbsp;y&nbsp;(robject/->RObject&nbsp;"robject_y"&nbsp;session&nbsp;nil&nbsp;nil))</code></div></div><div class="nspbox"><div><p>.. and some <strong>real</strong> handles to R objects:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;minus-eleven&nbsp;(r&nbsp;"-11"))&nbsp;(def&nbsp;abs&nbsp;(r&nbsp;"abs"))</code></div></div><div class="nspbox"><div><p>The function <code>-&gt;code</code> generates R code according to a certain set of rules. Here we describe some of these rules briefly. We also wrote a dedicated tutorial about the rule set more thoroughly.</p></div></div><div class="nspbox"><div><p>For an ROBject, the generated code is just the ROBject name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"robject_x"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"robject_x"]</code></div></div><div class="nspbox"><div><p>For a clojure value, we use some form analysis and generate proper R string or values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"hello"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\"hello\"$"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"\"hello\""]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(1,2,3)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(1,2,3)"]</code></div></div><div class="nspbox"><div><p>For a symbol, we generate the code with the corresponding R symbol.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'x)</code></div><div class="nspout"><code class="prettyprint lang-clj">"x"</code></div></div><div class="nspbox"><div><p>A sequential structure (list, vector, etc.) can be interpreted as a compound expression, for which code generation is defined accorting to the first list element.</p></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'function</code>, we generate an R function definition.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,y)&nbsp;{x}"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,y)&nbsp;{x}"]</code></div></div><div class="nspbox"><div><p>For a vector instead of list, we create R vector.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'[function&nbsp;[x&nbsp;y]&nbsp;x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(function,c(x,y),x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(function,c(x,y),x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'formula</code>, we generate an R <code>&#126;</code>-formula.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(formula&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x~y)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x~y)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with a symbol known to be a binary operator, we generate nested calls.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(+&nbsp;x&nbsp;y&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"((x+y)+z)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"((x+y)+z)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with another symbol, we generate a function call with that symbol as the function name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(f&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"f(x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"f(x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with an R object that is a function, we generate a function call with that object as the function. If you create the list using the quote sign (<code>'</code>), don't forget to unquote symbols refering to things you defined on the Clojure side.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(x\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x51645e89ce1c4382(x)"]</code></div></div><div class="nspbox"><div><p>All other sequential things (that is, those not beginning with a symbol or R function) are intepreted as data, converted implicitly R data representation.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;`(~abs&nbsp;(1&nbsp;2&nbsp;3))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(c\(1,2,3\)\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x51645e89ce1c4382(c(1,2,3))"]</code></div></div><div class="nspbox"><div><p>Some more examples, showing how these rules compose:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;~y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(robject_y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(+&nbsp;x&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;(list&nbsp;'function&nbsp;'[x&nbsp;y]&nbsp;(list&nbsp;'+&nbsp;'x&nbsp;'y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(print&nbsp;x)&nbsp;(f&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{print(x);f(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(~abs&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{.MEM$x51645e89ce1c4382(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;~minus-eleven))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x51645e89ce1c4382(.MEM$x9f81075c57d14116)"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;-11))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x51645e89ce1c4382(-11)"</code></div></div><div class="nspbox"><div><p>Use syntax quote ` in case you want to use local bindings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[minus-ten&nbsp;-10]&nbsp;(->code&nbsp;`(~abs&nbsp;~minus-ten)))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x51645e89ce1c4382(-10)"</code></div></div><div class="nspbox"><a id="running-generated-code"> </a><div><h2>Running generated code</h2></div></div><div class="nspbox"><div><p>Clojure forms can be run as R code. Behind the scences, they are turned to R code using the <code>-&gt;code</code> function described above. For example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0&nbsp;2.0&nbsp;1.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0&nbsp;2.0&nbsp;1.0]]</code></div></div><div class="nspbox"><div><p>Or, equivalently:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0&nbsp;2.0&nbsp;1.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0&nbsp;2.0&nbsp;1.0]]</code></div></div><div class="nspbox"><div><p>Let us repeat the basic examples from the beginning of this tutorial, this time generating code rather than writing it as Strings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;'(+&nbsp;1&nbsp;2)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(*&nbsp;x&nbsp;10))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(rowMeans&nbsp;data)))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'(library&nbsp;dplyr))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(filter&nbsp;data&nbsp;(>=&nbsp;x&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(mutate&nbsp;data&nbsp;(=&nbsp;z&nbsp;(+&nbsp;x&nbsp;y)))))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj))</code></div><div class="nspout"><code class="prettyprint lang-clj">_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;|</br>|-------+-------+-------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;9.000&nbsp;|</code></div></div><div class="nspbox"><a id="requiring-R-packages"> </a><div><h2>Requiring R packages</h2></div></div><div class="nspbox"><div><p>Sometimes, we want to bring to the Clojure world functions and data from R packages. Here, we try to follow the <a href='https://github.com/cnuernber/libpython-clj/blob/master/test/libpython_clj/require_python_test.clj'>require-python</a> syntax of <a href='https://github.com/cnuernber/libpython-clj'>libpython-clj</a> (though currently in a less sophisticated way.)</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[stats&nbsp;:as&nbsp;statz&nbsp;:refer&nbsp;[median]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.stats/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statz/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[datasets&nbsp;:as&nbsp;datasetz&nbsp;:refer&nbsp;[euro]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[r.datasets/euro&nbsp;datasetz/euro&nbsp;euro]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;apply&nbsp;=))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br>]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:refer&nbsp;[$]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'a)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[1.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1.0]]</code></div></div><div class="nspbox"><a id="data-visualization"> </a><div><h2>Data visualization</h2></div></div><div class="nspbox"><div><p>Functions creating R plots or any plotting objects generated by various R libraries can be wrapped in a way that returns an SVG, BufferedImage or can be saved to a file. All of them accept additional parameters specified in <code>grDevices</code> R package.</p></div></div><div class="nspbox"><div><p>Currently there is a bug that sometimes causes axes and labels to disappear when rendered inside a larger HTML.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[graphics&nbsp;:refer&nbsp;[plot&nbsp;hist]])</br>&nbsp;(require-r&nbsp;'[ggplot2&nbsp;:refer&nbsp;[ggplot&nbsp;aes&nbsp;geom_point&nbsp;xlab&nbsp;ylab&nbsp;labs]])</br>&nbsp;(require&nbsp;'[clojisr.v1.applications.plotting&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot->svg&nbsp;plot->file&nbsp;plot->buffered-image]])</code></div></div><div class="nspbox"><div><p>First example, simple plotting function as SVG string.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;rand</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;30)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reductions&nbsp;+)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(plot&nbsp;:xlab&nbsp;"t"&nbsp;:ylab&nbsp;"y"&nbsp;:type&nbsp;"l"))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 6.078125 -4.09375 C 6.078125 -7.046875 5.140625 -8.515625 3.296875 -8.515625 C 1.46875 -8.515625 0.515625 -7.015625 0.515625 -4.15625 C 0.515625 -1.296875 1.46875 0.1875 3.296875 0.1875 C 5.09375 0.1875 6.078125 -1.296875 6.078125 -4.09375 Z M 5 -4.1875 C 5 -1.78125 4.453125 -0.703125 3.28125 -0.703125 C 2.15625 -0.703125 1.59375 -1.828125 1.59375 -4.15625 C 1.59375 -6.484375 2.15625 -7.578125 3.296875 -7.578125 C 4.4375 -7.578125 5 -6.46875 5 -4.1875 Z M 5 -4.1875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 6.15625 -2.8125 C 6.15625 -4.5 5.046875 -5.609375 3.40625 -5.609375 C 2.8125 -5.609375 2.328125 -5.453125 1.84375 -5.09375 L 2.171875 -7.28125 L 5.71875 -7.28125 L 5.71875 -8.328125 L 1.3125 -8.328125 L 0.6875 -3.875 L 1.65625 -3.875 C 2.140625 -4.46875 2.5625 -4.671875 3.21875 -4.671875 C 4.359375 -4.671875 5.078125 -3.9375 5.078125 -2.671875 C 5.078125 -1.453125 4.375 -0.75 3.21875 -0.75 C 2.296875 -0.75 1.734375 -1.21875 1.46875 -2.1875 L 0.421875 -2.1875 C 0.765625 -0.484375 1.734375 0.1875 3.234375 0.1875 C 4.953125 0.1875 6.15625 -1.015625 6.15625 -2.8125 Z M 6.15625 -2.8125 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.15625 0 L 4.15625 -8.515625 L 3.46875 -8.515625 C 3.09375 -7.203125 2.859375 -7.015625 1.21875 -6.8125 L 1.21875 -6.0625 L 3.109375 -6.0625 L 3.109375 0 Z M 4.15625 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 6.125 -6.015625 C 6.125 -7.453125 5.015625 -8.515625 3.40625 -8.515625 C 1.671875 -8.515625 0.65625 -7.625 0.59375 -5.5625 L 1.65625 -5.5625 C 1.734375 -6.984375 2.328125 -7.578125 3.375 -7.578125 C 4.328125 -7.578125 5.046875 -6.90625 5.046875 -5.984375 C 5.046875 -5.3125 4.65625 -4.734375 3.90625 -4.3125 L 2.796875 -3.6875 C 1.015625 -2.671875 0.5 -1.875 0.40625 0 L 6.078125 0 L 6.078125 -1.046875 L 1.59375 -1.046875 C 1.703125 -1.734375 2.09375 -2.1875 3.125 -2.796875 L 4.328125 -3.4375 C 5.515625 -4.078125 6.125 -4.96875 6.125 -6.015625 Z M 6.125 -6.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 6.078125 -2.46875 C 6.078125 -3.5 5.65625 -4.109375 4.625 -4.453125 C 5.421875 -4.765625 5.8125 -5.3125 5.8125 -6.171875 C 5.8125 -7.625 4.84375 -8.515625 3.234375 -8.515625 C 1.515625 -8.515625 0.59375 -7.578125 0.5625 -5.765625 L 1.625 -5.765625 C 1.640625 -7.015625 2.15625 -7.578125 3.234375 -7.578125 C 4.171875 -7.578125 4.734375 -7.03125 4.734375 -6.125 C 4.734375 -5.21875 4.34375 -4.84375 2.65625 -4.84375 L 2.65625 -3.953125 L 3.234375 -3.953125 C 4.390625 -3.953125 4.984375 -3.40625 4.984375 -2.453125 C 4.984375 -1.390625 4.328125 -0.75 3.234375 -0.75 C 2.078125 -0.75 1.515625 -1.328125 1.4375 -2.5625 L 0.390625 -2.5625 C 0.515625 -0.671875 1.453125 0.1875 3.1875 0.1875 C 4.9375 0.1875 6.078125 -0.859375 6.078125 -2.46875 Z M 6.078125 -2.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 3.046875 0 L 3.046875 -0.84375 C 2.921875 -0.796875 2.765625 -0.796875 2.5625 -0.796875 C 2.140625 -0.796875 2.015625 -0.90625 2.015625 -1.359375 L 2.015625 -5.46875 L 3.046875 -5.46875 L 3.046875 -6.28125 L 2.015625 -6.28125 L 2.015625 -8.015625 L 1.015625 -8.015625 L 1.015625 -6.28125 L 0.171875 -6.28125 L 0.171875 -5.46875 L 1.015625 -5.46875 L 1.015625 -0.90625 C 1.015625 -0.28125 1.453125 0.078125 2.234375 0.078125 C 2.46875 0.078125 2.71875 0.0625 3.046875 0 Z M 3.046875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M -6.015625 -6.125 C -7.453125 -6.125 -8.515625 -5.015625 -8.515625 -3.40625 C -8.515625 -1.671875 -7.625 -0.65625 -5.5625 -0.59375 L -5.5625 -1.65625 C -6.984375 -1.734375 -7.578125 -2.328125 -7.578125 -3.375 C -7.578125 -4.328125 -6.90625 -5.046875 -5.984375 -5.046875 C -5.3125 -5.046875 -4.734375 -4.65625 -4.3125 -3.90625 L -3.6875 -2.796875 C -2.671875 -1.015625 -1.875 -0.5 0 -0.40625 L 0 -6.078125 L -1.046875 -6.078125 L -1.046875 -1.59375 C -1.734375 -1.703125 -2.1875 -2.09375 -2.796875 -3.125 L -3.4375 -4.328125 C -4.078125 -5.515625 -4.96875 -6.125 -6.015625 -6.125 Z M -6.015625 -6.125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M -2.046875 -6.234375 L -2.984375 -6.234375 L -2.984375 -4.984375 L -8.515625 -4.984375 L -8.515625 -4.203125 L -3.15625 -0.34375 L -2.046875 -0.34375 L -2.046875 -3.921875 L 0 -3.921875 L 0 -4.984375 L -2.046875 -4.984375 Z M -2.984375 -3.921875 L -2.984375 -1.265625 L -6.703125 -3.921875 Z M -2.984375 -3.921875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M -2.640625 -6.15625 C -4.21875 -6.15625 -5.296875 -5.078125 -5.296875 -3.546875 C -5.296875 -2.71875 -4.96875 -2.046875 -4.34375 -1.59375 C -6.421875 -1.609375 -7.578125 -2.28125 -7.578125 -3.484375 C -7.578125 -4.234375 -7.109375 -4.75 -6.28125 -4.921875 L -6.28125 -5.96875 C -7.6875 -5.765625 -8.515625 -4.859375 -8.515625 -3.5625 C -8.515625 -1.578125 -6.84375 -0.515625 -3.875 -0.515625 C -1.21875 -0.515625 0.1875 -1.421875 0.1875 -3.375 C 0.1875 -4.984375 -0.96875 -6.15625 -2.640625 -6.15625 Z M -2.5625 -5.078125 C -1.484375 -5.078125 -0.75 -4.359375 -0.75 -3.390625 C -0.75 -2.40625 -1.53125 -1.65625 -2.609375 -1.65625 C -3.671875 -1.65625 -4.359375 -2.375 -4.359375 -3.421875 C -4.359375 -4.4375 -3.703125 -5.078125 -2.5625 -5.078125 Z M -2.5625 -5.078125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M -2.40625 -6.15625 C -3.34375 -6.15625 -4.015625 -5.671875 -4.46875 -4.6875 C -5 -5.5625 -5.4375 -5.859375 -6.234375 -5.859375 C -7.578125 -5.859375 -8.515625 -4.8125 -8.515625 -3.296875 C -8.515625 -1.796875 -7.578125 -0.75 -6.234375 -0.75 C -5.453125 -0.75 -5.015625 -1.03125 -4.46875 -1.890625 C -4.015625 -0.921875 -3.34375 -0.4375 -2.40625 -0.4375 C -0.859375 -0.4375 0.1875 -1.625 0.1875 -3.296875 C 0.1875 -4.984375 -0.859375 -6.15625 -2.40625 -6.15625 Z M -6.21875 -4.78125 C -5.421875 -4.78125 -4.890625 -4.1875 -4.890625 -3.296875 C -4.890625 -2.40625 -5.421875 -1.828125 -6.234375 -1.828125 C -7.046875 -1.828125 -7.578125 -2.40625 -7.578125 -3.296875 C -7.578125 -4.203125 -7.046875 -4.78125 -6.21875 -4.78125 Z M -2.390625 -5.078125 C -1.375 -5.078125 -0.75 -4.359375 -0.75 -3.28125 C -0.75 -2.25 -1.390625 -1.53125 -2.390625 -1.53125 C -3.390625 -1.53125 -4.015625 -2.25 -4.015625 -3.296875 C -4.015625 -4.359375 -3.390625 -5.078125 -2.390625 -5.078125 Z M -2.390625 -5.078125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 0 -4.15625 L -8.515625 -4.15625 L -8.515625 -3.46875 C -7.203125 -3.09375 -7.015625 -2.859375 -6.8125 -1.21875 L -6.0625 -1.21875 L -6.0625 -3.109375 L 0 -3.109375 Z M 0 -4.15625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M -4.09375 -6.078125 C -7.046875 -6.078125 -8.515625 -5.140625 -8.515625 -3.296875 C -8.515625 -1.46875 -7.015625 -0.515625 -4.15625 -0.515625 C -1.296875 -0.515625 0.1875 -1.46875 0.1875 -3.296875 C 0.1875 -5.09375 -1.296875 -6.078125 -4.09375 -6.078125 Z M -4.1875 -5 C -1.78125 -5 -0.703125 -4.453125 -0.703125 -3.28125 C -0.703125 -2.15625 -1.828125 -1.59375 -4.15625 -1.59375 C -6.484375 -1.59375 -7.578125 -2.15625 -7.578125 -3.296875 C -7.578125 -4.4375 -6.46875 -5 -4.1875 -5 Z M -4.1875 -5 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M -6.28125 -5.734375 L -6.28125 -4.65625 L -1.390625 -2.921875 L -6.28125 -1.3125 L -6.28125 -0.234375 L 0.03125 -2.359375 L 1.015625 -1.984375 C 1.46875 -1.8125 1.625 -1.609375 1.625 -1.171875 C 1.625 -1.03125 1.609375 -0.859375 1.5625 -0.640625 L 2.453125 -0.640625 C 2.5625 -0.859375 2.609375 -1.0625 2.609375 -1.3125 C 2.609375 -2.03125 2.21875 -2.609375 1.3125 -2.9375 Z M -6.28125 -5.734375 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.398438 416.800781 L 87.640625 413.378906 L 100.882812 402.203125 L 114.125 382.53125 L 127.367188 381.335938 L 140.605469 379.84375 L 153.847656 357.859375 L 167.089844 350.128906 L 180.332031 344 L 193.574219 321.652344 L 206.8125 304.417969 L 220.054688 294.816406 L 233.296875 279.59375 L 246.539062 268.65625 L 259.78125 253.699219 L 273.019531 241.152344 L 286.261719 239.582031 L 299.503906 218.347656 L 312.746094 215.449219 L 325.984375 194.714844 L 339.226562 187.035156 L 352.46875 184.851562 L 365.710938 157.398438 L 378.953125 133.945312 L 392.191406 126.570312 L 405.433594 124.917969 L 418.675781 103.222656 L 431.917969 89.339844 L 445.160156 72.867188 L 458.398438 72.800781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 458.398438 430.558594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 61.160156 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.367188 430.558594 L 127.367188 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.574219 430.558594 L 193.574219 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.78125 430.558594 L 259.78125 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 325.984375 430.558594 L 325.984375 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.191406 430.558594 L 392.191406 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 458.398438 430.558594 L 458.398438 437.761719 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="57.660156" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="123.867188" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="186.574219" y="456.256836"/>
  <use xlink:href="#glyph0-1" x="193.246094" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="252.78125" y="456.256836"/>
  <use xlink:href="#glyph0-2" x="259.453125" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="318.984375" y="456.256836"/>
  <use xlink:href="#glyph0-1" x="325.65625" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="385.191406" y="456.256836"/>
  <use xlink:href="#glyph0-2" x="391.863281" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="451.398438" y="456.256836"/>
  <use xlink:href="#glyph0-1" x="458.070312" y="456.256836"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 383.65625 L 59.039062 91.40625 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 383.65625 L 51.839844 383.65625 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 325.207031 L 51.839844 325.207031 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 266.757812 L 51.839844 266.757812 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 208.308594 L 51.839844 208.308594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 149.855469 L 51.839844 149.855469 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 91.40625 L 51.839844 91.40625 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="41.538086" y="387.15625"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="41.538086" y="328.707031"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.538086" y="270.257812"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-4" x="41.538086" y="211.808594"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.538086" y="156.855469"/>
  <use xlink:href="#glyph1-6" x="41.538086" y="150.183594"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.538086" y="98.40625"/>
  <use xlink:href="#glyph1-1" x="41.538086" y="91.734375"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 430.558594 L 473.761719 430.558594 L 473.761719 59.039062 L 59.039062 59.039062 L 59.039062 430.558594 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-6" x="264.398438" y="485.057617"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-7" x="12.737305" y="247.800781"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>ggplot2 plots (or any other plot objects like lattice) can be also turned into SVG.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[x&nbsp;(repeatedly&nbsp;99&nbsp;rand)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(map&nbsp;+&nbsp;x&nbsp;(repeatedly&nbsp;99&nbsp;rand))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;{:x&nbsp;x,&nbsp;:y&nbsp;y}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ggplot&nbsp;(aes&nbsp;:x&nbsp;x&nbsp;:y&nbsp;y&nbsp;:color&nbsp;'(+&nbsp;x&nbsp;y)&nbsp;:size&nbsp;'(/&nbsp;x&nbsp;y)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(geom_point)&nbsp;(xlab&nbsp;"x")&nbsp;(ylab&nbsp;"y")))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 4.453125 -3 C 4.453125 -5.15625 3.78125 -6.234375 2.421875 -6.234375 C 1.078125 -6.234375 0.375 -5.140625 0.375 -3.046875 C 0.375 -0.953125 1.078125 0.125 2.421875 0.125 C 3.734375 0.125 4.453125 -0.953125 4.453125 -3 Z M 3.671875 -3.0625 C 3.671875 -1.296875 3.265625 -0.515625 2.40625 -0.515625 C 1.578125 -0.515625 1.171875 -1.34375 1.171875 -3.046875 C 1.171875 -4.75 1.578125 -5.546875 2.421875 -5.546875 C 3.25 -5.546875 3.671875 -4.734375 3.671875 -3.0625 Z M 3.671875 -3.0625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 1.6875 0 L 1.6875 -0.921875 L 0.765625 -0.921875 L 0.765625 0 Z M 1.6875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.515625 -2.0625 C 4.515625 -3.296875 3.6875 -4.109375 2.5 -4.109375 C 2.0625 -4.109375 1.703125 -4 1.34375 -3.734375 L 1.59375 -5.34375 L 4.1875 -5.34375 L 4.1875 -6.109375 L 0.96875 -6.109375 L 0.5 -2.84375 L 1.21875 -2.84375 C 1.578125 -3.265625 1.875 -3.421875 2.359375 -3.421875 C 3.1875 -3.421875 3.71875 -2.890625 3.71875 -1.96875 C 3.71875 -1.0625 3.203125 -0.546875 2.359375 -0.546875 C 1.6875 -0.546875 1.265625 -0.890625 1.078125 -1.59375 L 0.3125 -1.59375 C 0.5625 -0.359375 1.265625 0.125 2.375 0.125 C 3.640625 0.125 4.515625 -0.75 4.515625 -2.0625 Z M 4.515625 -2.0625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 3.046875 0 L 3.046875 -6.234375 L 2.546875 -6.234375 C 2.265625 -5.28125 2.09375 -5.140625 0.890625 -5 L 0.890625 -4.4375 L 2.28125 -4.4375 L 2.28125 0 Z M 3.046875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 4.5 -4.40625 C 4.5 -5.46875 3.671875 -6.234375 2.5 -6.234375 C 1.21875 -6.234375 0.484375 -5.59375 0.4375 -4.078125 L 1.21875 -4.078125 C 1.28125 -5.125 1.703125 -5.5625 2.46875 -5.5625 C 3.171875 -5.5625 3.703125 -5.0625 3.703125 -4.390625 C 3.703125 -3.890625 3.40625 -3.46875 2.859375 -3.15625 L 2.046875 -2.703125 C 0.75 -1.96875 0.375 -1.375 0.296875 0 L 4.453125 0 L 4.453125 -0.765625 L 1.171875 -0.765625 C 1.25 -1.28125 1.53125 -1.59375 2.296875 -2.046875 L 3.171875 -2.53125 C 4.046875 -2.984375 4.5 -3.640625 4.5 -4.40625 Z M 4.5 -4.40625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 4.578125 -5.453125 L 4.578125 -6.109375 L 0.40625 -6.109375 L 0.40625 -5.34375 L 3.78125 -5.34375 C 2.53125 -3.78125 1.65625 -1.953125 1.21875 0 L 2.046875 0 C 2.390625 -2.015625 3.265625 -3.890625 4.578125 -5.453125 Z M 4.578125 -5.453125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M 5.203125 0 L 3.21875 -2.984375 L 5.140625 -5.765625 L 4.109375 -5.765625 L 2.734375 -3.671875 L 1.34375 -5.765625 L 0.296875 -5.765625 L 2.21875 -2.9375 L 0.1875 0 L 1.234375 0 L 2.6875 -2.21875 L 4.140625 0 Z M 5.203125 0 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M 3.203125 2.328125 C 2.234375 0.765625 1.6875 -1.09375 1.6875 -2.84375 C 1.6875 -4.59375 2.234375 -6.453125 3.203125 -8.015625 L 2.59375 -8.015625 C 1.5 -6.578125 0.796875 -4.578125 0.796875 -2.84375 C 0.796875 -1.109375 1.5 0.890625 2.59375 2.328125 Z M 3.203125 2.328125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M 5.671875 -2.375 L 5.671875 -3.125 L 3.59375 -3.125 L 3.59375 -5.21875 L 2.84375 -5.21875 L 2.84375 -3.125 L 0.75 -3.125 L 0.75 -2.375 L 2.84375 -2.375 L 2.84375 -0.28125 L 3.59375 -0.28125 L 3.59375 -2.375 Z M 5.671875 -2.375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 5.265625 -5.765625 L 4.265625 -5.765625 L 2.671875 -1.28125 L 1.203125 -5.765625 L 0.21875 -5.765625 L 2.171875 0.015625 L 1.8125 0.9375 C 1.65625 1.34375 1.46875 1.5 1.078125 1.5 C 0.953125 1.5 0.796875 1.46875 0.59375 1.4375 L 0.59375 2.25 C 0.78125 2.359375 0.96875 2.390625 1.203125 2.390625 C 1.859375 2.390625 2.390625 2.03125 2.6875 1.203125 Z M 5.265625 -5.765625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M 2.8125 -2.84375 C 2.8125 -4.578125 2.125 -6.578125 1.015625 -8.015625 L 0.421875 -8.015625 C 1.390625 -6.453125 1.921875 -4.59375 1.921875 -2.84375 C 1.921875 -1.09375 1.390625 0.765625 0.421875 2.328125 L 1.015625 2.328125 C 2.125 0.890625 2.8125 -1.109375 2.8125 -2.84375 Z M 2.8125 -2.84375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 3.125 -8.015625 L 2.515625 -8.015625 L -0.09375 0.21875 L 0.515625 0.21875 Z M 3.125 -8.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph2-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph2-1">
<path style="stroke:none;" d="M -5.765625 -5.265625 L -5.765625 -4.265625 L -1.28125 -2.671875 L -5.765625 -1.203125 L -5.765625 -0.21875 L 0.015625 -2.171875 L 0.9375 -1.8125 C 1.34375 -1.65625 1.5 -1.46875 1.5 -1.078125 C 1.5 -0.953125 1.46875 -0.796875 1.4375 -0.59375 L 2.25 -0.59375 C 2.359375 -0.78125 2.390625 -0.96875 2.390625 -1.203125 C 2.390625 -1.859375 2.03125 -2.390625 1.203125 -2.6875 Z M -5.765625 -5.265625 "/>
</symbol>
</g>
<clipPath id="clip1">
  <path d="M 38.152344 5.480469 L 435.84375 5.480469 L 435.84375 469.851562 L 38.152344 469.851562 Z M 38.152344 5.480469 "/>
</clipPath>
<clipPath id="clip2">
  <path d="M 38.152344 427 L 435.84375 427 L 435.84375 428 L 38.152344 428 Z M 38.152344 427 "/>
</clipPath>
<clipPath id="clip3">
  <path d="M 38.152344 298 L 435.84375 298 L 435.84375 300 L 38.152344 300 Z M 38.152344 298 "/>
</clipPath>
<clipPath id="clip4">
  <path d="M 38.152344 170 L 435.84375 170 L 435.84375 171 L 38.152344 171 Z M 38.152344 170 "/>
</clipPath>
<clipPath id="clip5">
  <path d="M 38.152344 42 L 435.84375 42 L 435.84375 43 L 38.152344 43 Z M 38.152344 42 "/>
</clipPath>
<clipPath id="clip6">
  <path d="M 100 5.480469 L 102 5.480469 L 102 469.851562 L 100 469.851562 Z M 100 5.480469 "/>
</clipPath>
<clipPath id="clip7">
  <path d="M 194 5.480469 L 195 5.480469 L 195 469.851562 L 194 469.851562 Z M 194 5.480469 "/>
</clipPath>
<clipPath id="clip8">
  <path d="M 287 5.480469 L 288 5.480469 L 288 469.851562 L 287 469.851562 Z M 287 5.480469 "/>
</clipPath>
<clipPath id="clip9">
  <path d="M 380 5.480469 L 381 5.480469 L 381 469.851562 L 380 469.851562 Z M 380 5.480469 "/>
</clipPath>
<clipPath id="clip10">
  <path d="M 38.152344 362 L 435.84375 362 L 435.84375 364 L 38.152344 364 Z M 38.152344 362 "/>
</clipPath>
<clipPath id="clip11">
  <path d="M 38.152344 234 L 435.84375 234 L 435.84375 236 L 38.152344 236 Z M 38.152344 234 "/>
</clipPath>
<clipPath id="clip12">
  <path d="M 38.152344 106 L 435.84375 106 L 435.84375 108 L 38.152344 108 Z M 38.152344 106 "/>
</clipPath>
<clipPath id="clip13">
  <path d="M 54 5.480469 L 56 5.480469 L 56 469.851562 L 54 469.851562 Z M 54 5.480469 "/>
</clipPath>
<clipPath id="clip14">
  <path d="M 147 5.480469 L 149 5.480469 L 149 469.851562 L 147 469.851562 Z M 147 5.480469 "/>
</clipPath>
<clipPath id="clip15">
  <path d="M 240 5.480469 L 242 5.480469 L 242 469.851562 L 240 469.851562 Z M 240 5.480469 "/>
</clipPath>
<clipPath id="clip16">
  <path d="M 333 5.480469 L 335 5.480469 L 335 469.851562 L 333 469.851562 Z M 333 5.480469 "/>
</clipPath>
<clipPath id="clip17">
  <path d="M 426 5.480469 L 428 5.480469 L 428 469.851562 L 426 469.851562 Z M 426 5.480469 "/>
</clipPath>
<clipPath id="clip18">
  <path d="M 452.28125 157.585938 L 469.5625 157.585938 L 469.5625 243.984375 L 452.28125 243.984375 Z M 452.28125 157.585938 "/>
</clipPath>
<image id="image10" width="1" height="300" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEsCAIAAACNMk6CAAAABmJLR0QA/wD/AP+gvaeTAAAAjklEQVQ4jaWTQRKAMAgDd3ik//R1HuOlji3SjNYjhZAEKNt+BCgQIRRIAQRSi2l5hdr79/q1fqBQVw+ErvyipqGH5eh7fNFJi1M+9bC8OT/lrTD9fNYwT/0FpvQzwVju0eObndsd/uUa7qX2NffqNE5w7j7dbCudpXbj2ehX0n3f0ot5pX9/1xkPj79W8p41NH/nSHk1sQAAAABJRU5ErkJggg=="/>
<pattern id="pattern0" patternUnits="userSpaceOnUse" width="1" height="300"  patternTransform="matrix(17.28,0,0,0.288,452.281644,157.585479)">
  <use xlink:href="#image10"/>
</pattern>
</defs>
<g id="surface6">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 0 504 L 504 504 L 504 0 L 0 0 Z M 0 504 "/>
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(92.156863%,92.156863%,92.156863%);fill-opacity:1;" d="M 38.152344 469.847656 L 435.84375 469.847656 L 435.84375 5.476562 L 38.152344 5.476562 Z M 38.152344 469.847656 "/>
</g>
<g clip-path="url(#clip2)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 427.324219 L 435.84375 427.324219 "/>
</g>
<g clip-path="url(#clip3)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 299.023438 L 435.84375 299.023438 "/>
</g>
<g clip-path="url(#clip4)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 170.71875 L 435.84375 170.71875 "/>
</g>
<g clip-path="url(#clip5)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 42.417969 L 435.84375 42.417969 "/>
</g>
<g clip-path="url(#clip6)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 101.117188 469.847656 L 101.117188 5.480469 "/>
</g>
<g clip-path="url(#clip7)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 194.265625 469.847656 L 194.265625 5.480469 "/>
</g>
<g clip-path="url(#clip8)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 287.414062 469.847656 L 287.414062 5.480469 "/>
</g>
<g clip-path="url(#clip9)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 380.5625 469.847656 L 380.5625 5.480469 "/>
</g>
<g clip-path="url(#clip10)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 363.171875 L 435.84375 363.171875 "/>
</g>
<g clip-path="url(#clip11)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 234.871094 L 435.84375 234.871094 "/>
</g>
<g clip-path="url(#clip12)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 106.566406 L 435.84375 106.566406 "/>
</g>
<g clip-path="url(#clip13)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 54.542969 469.847656 L 54.542969 5.480469 "/>
</g>
<g clip-path="url(#clip14)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 147.691406 469.847656 L 147.691406 5.480469 "/>
</g>
<g clip-path="url(#clip15)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 240.839844 469.847656 L 240.839844 5.480469 "/>
</g>
<g clip-path="url(#clip16)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 333.988281 469.847656 L 333.988281 5.480469 "/>
</g>
<g clip-path="url(#clip17)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 427.136719 469.847656 L 427.136719 5.480469 "/>
</g>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 247.320312 202.605469 C 247.320312 209.265625 237.332031 209.265625 237.332031 202.605469 C 237.332031 195.945312 247.320312 195.945312 247.320312 202.605469 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.235294%,41.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.235294%,41.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 169.601562 350.640625 C 169.601562 357.757812 158.925781 357.757812 158.925781 350.640625 C 158.925781 343.527344 169.601562 343.527344 169.601562 350.640625 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.117647%,76.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.117647%,76.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 376.1875 172.28125 C 376.1875 175.503906 373.574219 178.121094 370.351562 178.121094 C 367.125 178.121094 364.511719 175.503906 364.511719 172.28125 C 364.511719 169.054688 367.125 166.441406 370.351562 166.441406 C 373.574219 166.441406 376.1875 169.054688 376.1875 172.28125 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 357.132812 123.214844 C 357.132812 126.203125 354.714844 128.625 351.726562 128.625 C 348.742188 128.625 346.320312 126.203125 346.320312 123.214844 C 346.320312 120.230469 348.742188 117.808594 351.726562 117.808594 C 354.714844 117.808594 357.132812 120.230469 357.132812 123.214844 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40%,57.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40%,57.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 138.039062 180.234375 C 138.039062 185.097656 130.75 185.097656 130.75 180.234375 C 130.75 175.375 138.039062 175.375 138.039062 180.234375 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.666667%,66.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.666667%,66.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 347.441406 241.292969 C 347.441406 244.703125 344.675781 247.46875 341.265625 247.46875 C 337.851562 247.46875 335.085938 244.703125 335.085938 241.292969 C 335.085938 237.878906 337.851562 235.113281 341.265625 235.113281 C 344.675781 235.113281 347.441406 237.878906 347.441406 241.292969 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.588235%,44.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.588235%,44.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 208.0625 347.324219 C 208.0625 350.59375 205.414062 353.242188 202.148438 353.242188 C 198.878906 353.242188 196.230469 350.59375 196.230469 347.324219 C 196.230469 344.058594 198.878906 341.410156 202.148438 341.410156 C 205.414062 341.410156 208.0625 344.058594 208.0625 347.324219 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,52.54902%,74.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,52.54902%,74.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 391.503906 200.957031 C 391.503906 204.363281 388.746094 207.121094 385.34375 207.121094 C 381.941406 207.121094 379.179688 204.363281 379.179688 200.957031 C 379.179688 197.554688 381.941406 194.796875 385.34375 194.796875 C 388.746094 194.796875 391.503906 197.554688 391.503906 200.957031 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,41.568627%,59.215686%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,41.568627%,59.215686%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.101562 244.84375 C 259.101562 247.832031 256.679688 250.253906 253.691406 250.253906 C 250.703125 250.253906 248.28125 247.832031 248.28125 244.84375 C 248.28125 241.855469 250.703125 239.4375 253.691406 239.4375 C 256.679688 239.4375 259.101562 241.855469 259.101562 244.84375 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.803922%,43.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.803922%,43.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 142.0625 314.101562 C 142.0625 320.03125 133.167969 320.03125 133.167969 314.101562 C 133.167969 308.171875 142.0625 308.171875 142.0625 314.101562 "/>
<path style="fill-rule:nonzero;fill:rgb(12.156863%,25.882353%,38.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.156863%,25.882353%,38.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.085938 307.519531 C 59.085938 309.925781 55.480469 309.925781 55.480469 307.519531 C 55.480469 305.117188 59.085938 305.117188 59.085938 307.519531 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.27451%,65.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.27451%,65.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 252.378906 183.484375 C 252.378906 190.054688 242.523438 190.054688 242.523438 183.484375 C 242.523438 176.910156 252.378906 176.910156 252.378906 183.484375 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.45098%,40.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.45098%,40.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 133.363281 337.367188 C 133.363281 343.355469 124.378906 343.355469 124.378906 337.367188 C 124.378906 331.375 133.363281 331.375 133.363281 337.367188 "/>
<path style="fill-rule:nonzero;fill:rgb(10.588235%,22.745098%,34.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.588235%,22.745098%,34.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 103.097656 377.367188 C 103.097656 382.933594 94.75 382.933594 94.75 377.367188 C 94.75 371.800781 103.097656 371.800781 103.097656 377.367188 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,32.941176%,48.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,32.941176%,48.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 84.960938 231.066406 C 84.960938 234.828125 79.320312 234.828125 79.320312 231.066406 C 79.320312 227.304688 84.960938 227.304688 84.960938 231.066406 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 423.253906 170.113281 C 423.253906 173.503906 420.503906 176.253906 417.113281 176.253906 C 413.722656 176.253906 410.972656 173.503906 410.972656 170.113281 C 410.972656 166.71875 413.722656 163.972656 417.113281 163.972656 C 420.503906 163.972656 423.253906 166.71875 423.253906 170.113281 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.803922%,70.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.803922%,70.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 299.058594 171.0625 C 299.058594 178.070312 288.546875 178.070312 288.546875 171.0625 C 288.546875 164.058594 299.058594 164.058594 299.058594 171.0625 "/>
<path style="fill-rule:nonzero;fill:rgb(25.882353%,53.72549%,75.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.882353%,53.72549%,75.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 317.835938 140.035156 C 317.835938 146.996094 307.390625 146.996094 307.390625 140.035156 C 307.390625 133.070312 317.835938 133.070312 317.835938 140.035156 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.45098%,40.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.45098%,40.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 95.5 310.585938 C 95.5 315.140625 88.671875 315.140625 88.671875 310.585938 C 88.671875 306.03125 95.5 306.03125 95.5 310.585938 "/>
<path style="fill-rule:nonzero;fill:rgb(20.784314%,43.529412%,61.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.784314%,43.529412%,61.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 213.457031 190.449219 C 213.457031 196.570312 204.277344 196.570312 204.277344 190.449219 C 204.277344 184.328125 213.457031 184.328125 213.457031 190.449219 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,38.039216%,54.901961%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,38.039216%,54.901961%);stroke-opacity:1;stroke-miterlimit:10;" d="M 238.921875 272.070312 C 238.921875 275.070312 236.492188 277.5 233.492188 277.5 C 230.496094 277.5 228.0625 275.070312 228.0625 272.070312 C 228.0625 269.074219 230.496094 266.640625 233.492188 266.640625 C 236.492188 266.640625 238.921875 269.074219 238.921875 272.070312 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 247.804688 318.625 C 247.804688 321.964844 245.097656 324.671875 241.761719 324.671875 C 238.421875 324.671875 235.714844 321.964844 235.714844 318.625 C 235.714844 315.289062 238.421875 312.582031 241.761719 312.582031 C 245.097656 312.582031 247.804688 315.289062 247.804688 318.625 "/>
<path style="fill-rule:nonzero;fill:rgb(7.843137%,17.647059%,27.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.843137%,17.647059%,27.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 88.273438 439.28125 C 88.273438 445.578125 78.832031 445.578125 78.832031 439.28125 C 78.832031 432.984375 88.273438 432.984375 88.273438 439.28125 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.019608%,69.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.019608%,69.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 386.472656 239.425781 C 386.472656 243 383.574219 245.898438 380 245.898438 C 376.425781 245.898438 373.527344 243 373.527344 239.425781 C 373.527344 235.851562 376.425781 232.953125 380 232.953125 C 383.574219 232.953125 386.472656 235.851562 386.472656 239.425781 "/>
<path style="fill-rule:nonzero;fill:rgb(12.156863%,25.882353%,38.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.156863%,25.882353%,38.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 79.90625 320.585938 C 79.90625 324.570312 73.933594 324.570312 73.933594 320.585938 C 73.933594 316.605469 79.90625 316.605469 79.90625 320.585938 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.411765%,96.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.411765%,96.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 421.289062 29.9375 C 421.289062 37.066406 410.59375 37.066406 410.59375 29.9375 C 410.59375 22.808594 421.289062 22.808594 421.289062 29.9375 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.686275%,51.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.686275%,51.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 160.347656 247.160156 C 160.347656 252.851562 151.808594 252.851562 151.808594 247.160156 C 151.808594 241.46875 160.347656 241.46875 160.347656 247.160156 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,32.941176%,47.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,32.941176%,47.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 105.160156 246.125 C 105.160156 250.578125 98.480469 250.578125 98.480469 246.125 C 98.480469 241.671875 105.160156 241.671875 105.160156 246.125 "/>
<path style="fill-rule:nonzero;fill:rgb(9.803922%,21.568627%,32.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.803922%,21.568627%,32.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 137.558594 416.316406 C 137.558594 419.585938 134.910156 422.238281 131.640625 422.238281 C 128.371094 422.238281 125.71875 419.585938 125.71875 416.316406 C 125.71875 413.046875 128.371094 410.398438 131.640625 410.398438 C 134.910156 410.398438 137.558594 413.046875 137.558594 416.316406 "/>
<path style="fill-rule:nonzero;fill:rgb(9.019608%,19.607843%,29.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.019608%,19.607843%,29.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 76.761719 404.648438 C 76.761719 409.257812 69.847656 409.257812 69.847656 404.648438 C 69.847656 400.039062 76.761719 400.039062 76.761719 404.648438 "/>
<path style="fill-rule:nonzero;fill:rgb(7.45098%,16.862745%,26.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.45098%,16.862745%,26.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 69.519531 437.6875 C 69.519531 442.285156 62.621094 442.285156 62.621094 437.6875 C 62.621094 433.089844 69.519531 433.089844 69.519531 437.6875 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 224.15625 224.484375 C 224.15625 231.019531 214.351562 231.019531 214.351562 224.484375 C 214.351562 217.949219 224.15625 217.949219 224.15625 224.484375 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.27451%,66.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.27451%,66.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 321.039062 226.15625 C 321.039062 229.375 318.433594 231.980469 315.214844 231.980469 C 312 231.980469 309.394531 229.375 309.394531 226.15625 C 309.394531 222.941406 312 220.335938 315.214844 220.335938 C 318.433594 220.335938 321.039062 222.941406 321.039062 226.15625 "/>
<path style="fill-rule:nonzero;fill:rgb(27.45098%,56.470588%,79.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.45098%,56.470588%,79.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 408.871094 167.476562 C 408.871094 170.804688 406.171875 173.503906 402.84375 173.503906 C 399.515625 173.503906 396.816406 170.804688 396.816406 167.476562 C 396.816406 164.148438 399.515625 161.449219 402.84375 161.449219 C 406.171875 161.449219 408.871094 164.148438 408.871094 167.476562 "/>
<path style="fill-rule:nonzero;fill:rgb(7.843137%,18.039216%,27.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.843137%,18.039216%,27.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 109.105469 448.742188 C 109.105469 452.136719 106.351562 454.890625 102.957031 454.890625 C 99.558594 454.890625 96.804688 452.136719 96.804688 448.742188 C 96.804688 445.34375 99.558594 442.589844 102.957031 442.589844 C 106.351562 442.589844 109.105469 445.34375 109.105469 448.742188 "/>
<path style="fill-rule:nonzero;fill:rgb(28.235294%,58.823529%,82.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.235294%,58.823529%,82.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 304.484375 71.578125 C 304.484375 77.984375 294.875 77.984375 294.875 71.578125 C 294.875 65.171875 304.484375 65.171875 304.484375 71.578125 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,51.764706%,73.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,51.764706%,73.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 340.855469 177.285156 C 340.855469 180.386719 338.339844 182.902344 335.238281 182.902344 C 332.132812 182.902344 329.621094 180.386719 329.621094 177.285156 C 329.621094 174.183594 332.132812 171.667969 335.238281 171.667969 C 338.339844 171.667969 340.855469 174.183594 340.855469 177.285156 "/>
<path style="fill-rule:nonzero;fill:rgb(9.019608%,20%,30.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.019608%,20%,30.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 89.253906 407.238281 C 89.253906 412.679688 81.089844 412.679688 81.089844 407.238281 C 81.089844 401.796875 89.253906 401.796875 89.253906 407.238281 "/>
<path style="fill-rule:nonzero;fill:rgb(9.803922%,21.568627%,32.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.803922%,21.568627%,32.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 81.648438 379.710938 C 81.648438 384.292969 74.777344 384.292969 74.777344 379.710938 C 74.777344 375.132812 81.648438 375.132812 81.648438 379.710938 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,43.921569%,62.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,43.921569%,62.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 304.476562 246.859375 C 304.476562 250.09375 301.855469 252.71875 298.621094 252.71875 C 295.386719 252.71875 292.761719 250.09375 292.761719 246.859375 C 292.761719 243.625 295.386719 241.003906 298.621094 241.003906 C 301.855469 241.003906 304.476562 243.625 304.476562 246.859375 "/>
<path style="fill-rule:nonzero;fill:rgb(25.882353%,53.333333%,75.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.882353%,53.333333%,75.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 424.273438 213.949219 C 424.273438 217.542969 421.359375 220.457031 417.765625 220.457031 C 414.171875 220.457031 411.257812 217.542969 411.257812 213.949219 C 411.257812 210.355469 414.171875 207.441406 417.765625 207.441406 C 421.359375 207.441406 424.273438 210.355469 424.273438 213.949219 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.803922%,70.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.803922%,70.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 411.953125 247.894531 C 411.953125 251.625 408.925781 254.652344 405.195312 254.652344 C 401.464844 254.652344 398.441406 251.625 398.441406 247.894531 C 398.441406 244.164062 401.464844 241.136719 405.195312 241.136719 C 408.925781 241.136719 411.953125 244.164062 411.953125 247.894531 "/>
<path style="fill-rule:nonzero;fill:rgb(20.784314%,43.529412%,61.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.784314%,43.529412%,61.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 210.324219 186.828125 C 210.324219 192.878906 201.25 192.878906 201.25 186.828125 C 201.25 180.777344 210.324219 180.777344 210.324219 186.828125 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.431373%,28.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.431373%,28.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 73.019531 415.535156 C 73.019531 420.03125 66.273438 420.03125 66.273438 415.535156 C 66.273438 411.039062 73.019531 411.039062 73.019531 415.535156 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.490196%,91.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.490196%,91.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 370.828125 39.558594 C 370.828125 46.359375 360.628906 46.359375 360.628906 39.558594 C 360.628906 32.757812 370.828125 32.757812 370.828125 39.558594 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 221.710938 169.835938 C 221.710938 175.925781 212.574219 175.925781 212.574219 169.835938 C 212.574219 163.746094 221.710938 163.746094 221.710938 169.835938 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,46.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,46.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 76.847656 238.5 C 76.847656 241.972656 71.640625 241.972656 71.640625 238.5 C 71.640625 235.03125 76.847656 235.03125 76.847656 238.5 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.098039%,64.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.098039%,64.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 354.707031 263.375 C 354.707031 266.945312 351.8125 269.839844 348.242188 269.839844 C 344.671875 269.839844 341.777344 266.945312 341.777344 263.375 C 341.777344 259.804688 344.671875 256.910156 348.242188 256.910156 C 351.8125 256.910156 354.707031 259.804688 354.707031 263.375 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.019608%,69.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.019608%,69.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 319.210938 194.429688 C 319.210938 197.503906 316.71875 199.996094 313.644531 199.996094 C 310.570312 199.996094 308.078125 197.503906 308.078125 194.429688 C 308.078125 191.355469 310.570312 188.863281 313.644531 188.863281 C 316.71875 188.863281 319.210938 191.355469 319.210938 194.429688 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.647059%,80.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.647059%,80.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 308.5625 88.230469 C 308.5625 94.769531 298.757812 94.769531 298.757812 88.230469 C 298.757812 81.691406 308.5625 81.691406 308.5625 88.230469 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40%,57.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40%,57.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 326.171875 305.386719 C 326.171875 309.101562 323.160156 312.113281 319.445312 312.113281 C 315.730469 312.113281 312.722656 309.101562 312.722656 305.386719 C 312.722656 301.671875 315.730469 298.660156 319.445312 298.660156 C 323.160156 298.660156 326.171875 301.671875 326.171875 305.386719 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,47.843137%,67.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,47.843137%,67.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 303.175781 198.652344 C 303.175781 201.671875 300.726562 204.117188 297.707031 204.117188 C 294.691406 204.117188 292.242188 201.671875 292.242188 198.652344 C 292.242188 195.632812 294.691406 193.1875 297.707031 193.1875 C 300.726562 193.1875 303.175781 195.632812 303.175781 198.652344 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,56.078431%,78.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,56.078431%,78.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 363.949219 143.464844 C 363.949219 146.542969 361.457031 149.035156 358.382812 149.035156 C 355.308594 149.035156 352.8125 146.542969 352.8125 143.464844 C 352.8125 140.390625 355.308594 137.898438 358.382812 137.898438 C 361.457031 137.898438 363.949219 140.390625 363.949219 143.464844 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 170.9375 188.011719 C 170.9375 193.484375 162.726562 193.484375 162.726562 188.011719 C 162.726562 182.539062 170.9375 182.539062 170.9375 188.011719 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.392157%,58.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.392157%,58.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 237.828125 241.929688 C 237.828125 248.820312 227.492188 248.820312 227.492188 241.929688 C 227.492188 235.039062 237.828125 235.039062 237.828125 241.929688 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.764706%,46.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.764706%,46.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 210.660156 333.851562 C 210.660156 337.03125 208.082031 339.609375 204.898438 339.609375 C 201.71875 339.609375 199.140625 337.03125 199.140625 333.851562 C 199.140625 330.671875 201.71875 328.09375 204.898438 328.09375 C 208.082031 328.09375 210.660156 330.671875 210.660156 333.851562 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,50.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,50.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 277.023438 341.148438 C 277.023438 344.875 274.003906 347.894531 270.277344 347.894531 C 266.550781 347.894531 263.53125 344.875 263.53125 341.148438 C 263.53125 337.421875 266.550781 334.398438 270.277344 334.398438 C 274.003906 334.398438 277.023438 337.421875 277.023438 341.148438 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.098039%,91.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.098039%,91.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 356.671875 33.234375 C 356.671875 39.886719 346.691406 39.886719 346.691406 33.234375 C 346.691406 26.582031 356.671875 26.582031 356.671875 33.234375 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 334.59375 106.746094 C 334.59375 113.636719 324.253906 113.636719 324.253906 106.746094 C 324.253906 99.851562 334.59375 99.851562 334.59375 106.746094 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.490196%,38.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.490196%,38.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 179.71875 393.378906 C 179.71875 396.867188 176.890625 399.691406 173.40625 399.691406 C 169.917969 399.691406 167.089844 396.867188 167.089844 393.378906 C 167.089844 389.890625 169.917969 387.066406 173.40625 387.066406 C 176.890625 387.066406 179.71875 389.890625 179.71875 393.378906 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.215686%,56.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.215686%,56.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 198.539062 229.121094 C 198.539062 235.316406 189.246094 235.316406 189.246094 229.121094 C 189.246094 222.925781 198.539062 222.925781 198.539062 229.121094 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,42.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,42.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 57.648438 268.621094 C 57.648438 270.515625 54.804688 270.515625 54.804688 268.621094 C 54.804688 266.726562 57.648438 266.726562 57.648438 268.621094 "/>
<path style="fill-rule:nonzero;fill:rgb(32.941176%,67.45098%,94.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.941176%,67.45098%,94.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 386.640625 26.585938 C 386.640625 33.441406 376.363281 33.441406 376.363281 26.585938 C 376.363281 19.734375 386.640625 19.734375 386.640625 26.585938 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.411765%,70.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.411765%,70.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 402.367188 246.0625 C 402.367188 249.742188 399.386719 252.722656 395.707031 252.722656 C 392.027344 252.722656 389.042969 249.742188 389.042969 246.0625 C 389.042969 242.382812 392.027344 239.398438 395.707031 239.398438 C 399.386719 239.398438 402.367188 242.382812 402.367188 246.0625 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,46.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,46.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.039062 271.453125 C 127.039062 276.628906 119.277344 276.628906 119.277344 271.453125 C 119.277344 266.28125 127.039062 266.28125 127.039062 271.453125 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,41.568627%,59.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,41.568627%,59.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.46875 256.925781 C 279.46875 260.082031 276.914062 262.640625 273.757812 262.640625 C 270.601562 262.640625 268.042969 260.082031 268.042969 256.925781 C 268.042969 253.769531 270.601562 251.214844 273.757812 251.214844 C 276.914062 251.214844 279.46875 253.769531 279.46875 256.925781 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,43.921569%,62.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,43.921569%,62.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 257.691406 212.554688 C 257.691406 219.429688 247.375 219.429688 247.375 212.554688 C 247.375 205.679688 257.691406 205.679688 257.691406 212.554688 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.117647%,76.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.117647%,76.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 281.839844 107.160156 C 281.839844 113.546875 272.257812 113.546875 272.257812 107.160156 C 272.257812 100.769531 281.839844 100.769531 281.839844 107.160156 "/>
<path style="fill-rule:nonzero;fill:rgb(32.156863%,66.27451%,92.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.156863%,66.27451%,92.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 419.96875 62.058594 C 419.96875 65.085938 417.511719 67.542969 414.484375 67.542969 C 411.457031 67.542969 409 65.085938 409 62.058594 C 409 59.03125 411.457031 56.574219 414.484375 56.574219 C 417.511719 56.574219 419.96875 59.03125 419.96875 62.058594 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 232.890625 178.902344 C 232.890625 185.199219 223.449219 185.199219 223.449219 178.902344 C 223.449219 172.609375 232.890625 172.609375 232.890625 178.902344 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.078431%,52.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.078431%,52.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 113.042969 213.433594 C 113.042969 217.921875 106.308594 217.921875 106.308594 213.433594 C 106.308594 208.941406 113.042969 208.941406 113.042969 213.433594 "/>
<path style="fill-rule:nonzero;fill:rgb(29.803922%,61.176471%,85.882353%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.803922%,61.176471%,85.882353%);stroke-opacity:1;stroke-miterlimit:10;" d="M 342.015625 67.5625 C 342.015625 74.28125 331.9375 74.28125 331.9375 67.5625 C 331.9375 60.839844 342.015625 60.839844 342.015625 67.5625 "/>
<path style="fill-rule:nonzero;fill:rgb(11.372549%,24.705882%,37.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.372549%,24.705882%,37.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 177.890625 399.808594 C 177.890625 403.367188 175.007812 406.25 171.449219 406.25 C 167.894531 406.25 165.007812 403.367188 165.007812 399.808594 C 165.007812 396.25 167.894531 393.367188 171.449219 393.367188 C 175.007812 393.367188 177.890625 396.25 177.890625 399.808594 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.098039%,64.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.098039%,64.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 320.953125 240.777344 C 320.953125 244.0625 318.289062 246.726562 315.003906 246.726562 C 311.71875 246.726562 309.054688 244.0625 309.054688 240.777344 C 309.054688 237.492188 311.71875 234.828125 315.003906 234.828125 C 318.289062 234.828125 320.953125 237.492188 320.953125 240.777344 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,52.156863%,73.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,52.156863%,73.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 316.449219 155.277344 C 316.449219 162.339844 305.855469 162.339844 305.855469 155.277344 C 305.855469 148.214844 316.449219 148.214844 316.449219 155.277344 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.196078%,70.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.196078%,70.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.953125 231.1875 C 392.953125 234.746094 390.070312 237.628906 386.511719 237.628906 C 382.953125 237.628906 380.070312 234.746094 380.070312 231.1875 C 380.070312 227.632812 382.953125 224.75 386.511719 224.75 C 390.070312 224.75 392.953125 227.632812 392.953125 231.1875 "/>
<path style="fill-rule:nonzero;fill:rgb(28.235294%,58.431373%,81.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.235294%,58.431373%,81.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 337.71875 97.910156 C 337.71875 104.773438 327.421875 104.773438 327.421875 97.910156 C 327.421875 91.046875 337.71875 91.046875 337.71875 97.910156 "/>
<path style="fill-rule:nonzero;fill:rgb(20.392157%,42.352941%,60.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.392157%,42.352941%,60.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 160.640625 166.476562 C 160.640625 171.664062 152.859375 171.664062 152.859375 166.476562 C 152.859375 161.289062 160.640625 161.289062 160.640625 166.476562 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.294118%,50.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.294118%,50.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 122.371094 228.566406 C 122.371094 233.351562 115.191406 233.351562 115.191406 228.566406 C 115.191406 223.777344 122.371094 223.777344 122.371094 228.566406 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.215686%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.215686%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 215.171875 243.195312 C 215.171875 249.769531 205.3125 249.769531 205.3125 243.195312 C 205.3125 236.621094 215.171875 236.621094 215.171875 243.195312 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.372549%,45.882353%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.372549%,45.882353%);stroke-opacity:1;stroke-miterlimit:10;" d="M 129.574219 281.46875 C 129.574219 286.78125 121.601562 286.78125 121.601562 281.46875 C 121.601562 276.15625 129.574219 276.15625 129.574219 281.46875 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.392157%,84.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.392157%,84.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 365.726562 94.453125 C 365.726562 101.539062 355.09375 101.539062 355.09375 94.453125 C 355.09375 87.367188 365.726562 87.367188 365.726562 94.453125 "/>
<path style="fill-rule:nonzero;fill:rgb(25.882353%,53.72549%,76.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.882353%,53.72549%,76.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 282.894531 112.425781 C 282.894531 118.859375 273.246094 118.859375 273.246094 112.425781 C 273.246094 105.996094 282.894531 105.996094 282.894531 112.425781 "/>
<path style="fill-rule:nonzero;fill:rgb(12.156863%,25.882353%,38.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.156863%,25.882353%,38.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 167.097656 379.082031 C 167.097656 382.253906 164.523438 384.828125 161.347656 384.828125 C 158.171875 384.828125 155.597656 382.253906 155.597656 379.082031 C 155.597656 375.90625 158.171875 373.332031 161.347656 373.332031 C 164.523438 373.332031 167.097656 375.90625 167.097656 379.082031 "/>
<path style="fill-rule:nonzero;fill:rgb(24.705882%,50.980392%,72.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.705882%,50.980392%,72.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 389.90625 218.996094 C 389.90625 222.480469 387.082031 225.304688 383.601562 225.304688 C 380.117188 225.304688 377.296875 222.480469 377.296875 218.996094 C 377.296875 215.515625 380.117188 212.691406 383.601562 212.691406 C 387.082031 212.691406 389.90625 215.515625 389.90625 218.996094 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,52.156863%,73.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,52.156863%,73.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.613281 129.378906 C 279.613281 135.878906 269.863281 135.878906 269.863281 129.378906 C 269.863281 122.875 279.613281 122.875 279.613281 129.378906 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.666667%,66.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.666667%,66.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 251.699219 177.523438 C 251.699219 184.042969 241.921875 184.042969 241.921875 177.523438 C 241.921875 171.003906 251.699219 171.003906 251.699219 177.523438 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,48.627451%,69.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,48.627451%,69.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 381.289062 241.886719 C 381.289062 245.449219 378.398438 248.339844 374.832031 248.339844 C 371.265625 248.339844 368.375 245.449219 368.375 241.886719 C 368.375 238.320312 371.265625 235.429688 374.832031 235.429688 C 378.398438 235.429688 381.289062 238.320312 381.289062 241.886719 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,55.686275%,78.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,55.686275%,78.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 416.824219 183.25 C 416.824219 186.671875 414.050781 189.445312 410.628906 189.445312 C 407.207031 189.445312 404.429688 186.671875 404.429688 183.25 C 404.429688 179.824219 407.207031 177.050781 410.628906 177.050781 C 414.050781 177.050781 416.824219 179.824219 416.824219 183.25 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.784314%,85.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.784314%,85.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 420.269531 124.648438 C 420.269531 127.863281 417.664062 130.46875 414.453125 130.46875 C 411.238281 130.46875 408.632812 127.863281 408.632812 124.648438 C 408.632812 121.433594 411.238281 118.828125 414.453125 118.828125 C 417.664062 118.828125 420.269531 121.433594 420.269531 124.648438 "/>
<path style="fill-rule:nonzero;fill:rgb(9.019608%,19.607843%,30.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.019608%,19.607843%,30.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 94.625 414.511719 C 94.625 420.417969 85.761719 420.417969 85.761719 414.511719 C 85.761719 408.601562 94.625 408.601562 94.625 414.511719 "/>
<path style="fill-rule:nonzero;fill:rgb(12.156863%,25.882353%,38.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.156863%,25.882353%,38.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 155.378906 371.945312 C 155.378906 379.128906 144.605469 379.128906 144.605469 371.945312 C 144.605469 364.765625 155.378906 364.765625 155.378906 371.945312 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 223.433594 149.351562 C 223.433594 155.335938 214.457031 155.335938 214.457031 149.351562 C 214.457031 143.371094 223.433594 143.371094 223.433594 149.351562 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,41.568627%,59.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,41.568627%,59.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 185.894531 192.621094 C 185.894531 198.355469 177.289062 198.355469 177.289062 192.621094 C 177.289062 186.882812 185.894531 186.882812 185.894531 192.621094 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,26.666667%,39.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,26.666667%,39.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 125.199219 339.941406 C 125.199219 345.734375 116.511719 345.734375 116.511719 339.941406 C 116.511719 334.148438 125.199219 334.148438 125.199219 339.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.588235%,44.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.588235%,44.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 97.425781 273.382812 C 97.425781 277.757812 90.863281 277.757812 90.863281 273.382812 C 90.863281 269.007812 97.425781 269.007812 97.425781 273.382812 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 166.238281 185.925781 C 166.238281 191.3125 158.160156 191.3125 158.160156 185.925781 C 158.160156 180.539062 166.238281 180.539062 166.238281 185.925781 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,50.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,50.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 242.121094 317.941406 C 242.121094 321.238281 239.453125 323.90625 236.15625 323.90625 C 232.863281 323.90625 230.191406 321.238281 230.191406 317.941406 C 230.191406 314.648438 232.863281 311.976562 236.15625 311.976562 C 239.453125 311.976562 242.121094 314.648438 242.121094 317.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,29.803922%,43.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,29.803922%,43.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 100.109375 284.144531 C 100.109375 288.671875 93.320312 288.671875 93.320312 284.144531 C 93.320312 279.617188 100.109375 279.617188 100.109375 284.144531 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="20.21875" y="365.774414"/>
  <use xlink:href="#glyph0-2" x="25.111328" y="365.774414"/>
  <use xlink:href="#glyph0-3" x="27.557617" y="365.774414"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="20.21875" y="237.473633"/>
  <use xlink:href="#glyph0-2" x="25.111328" y="237.473633"/>
  <use xlink:href="#glyph0-1" x="27.557617" y="237.473633"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="20.21875" y="109.168945"/>
  <use xlink:href="#glyph0-2" x="25.111328" y="109.168945"/>
  <use xlink:href="#glyph0-3" x="27.557617" y="109.168945"/>
</g>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 35.410156 363.171875 L 38.152344 363.171875 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 35.410156 234.871094 L 38.152344 234.871094 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 35.410156 106.566406 L 38.152344 106.566406 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 54.542969 472.589844 L 54.542969 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 147.691406 472.589844 L 147.691406 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 240.839844 472.589844 L 240.839844 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 333.988281 472.589844 L 333.988281 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 427.136719 472.589844 L 427.136719 469.847656 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="45.542969" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="50.435547" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="52.881836" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="57.774414" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="138.691406" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="143.583984" y="480.883789"/>
  <use xlink:href="#glyph0-5" x="146.030273" y="480.883789"/>
  <use xlink:href="#glyph0-3" x="150.922852" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="231.839844" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="236.732422" y="480.883789"/>
  <use xlink:href="#glyph0-3" x="239.178711" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="244.071289" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="324.988281" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="329.880859" y="480.883789"/>
  <use xlink:href="#glyph0-6" x="332.327148" y="480.883789"/>
  <use xlink:href="#glyph0-3" x="337.219727" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="418.136719" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="423.029297" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="425.475586" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="430.368164" y="480.883789"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="233.996094" y="495.147461"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-1" x="14.108398" y="240.664062"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 249.464844 L 488.757812 249.464844 L 488.757812 134.625 L 446.800781 134.625 Z M 446.800781 249.464844 "/>
<g clip-path="url(#clip18)" clip-rule="nonzero">
<rect x="0" y="0" width="504" height="504" style="fill:url(#pattern0);stroke:none;"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="475.042969" y="220.575195"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="475.042969" y="186.512695"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="150.233398"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="150.233398"/>
  <use xlink:href="#glyph1-3" x="461.444336" y="150.233398"/>
  <use xlink:href="#glyph1-4" x="464.501953" y="150.233398"/>
  <use xlink:href="#glyph1-3" x="470.925781" y="150.233398"/>
  <use xlink:href="#glyph1-5" x="473.983398" y="150.233398"/>
  <use xlink:href="#glyph1-6" x="479.483398" y="150.233398"/>
</g>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 217.972656 L 455.738281 217.972656 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 183.910156 L 455.738281 183.910156 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 217.972656 L 469.5625 217.972656 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 183.910156 L 469.5625 183.910156 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 340.703125 L 498.519531 340.703125 L 498.519531 260.425781 L 446.800781 260.425781 Z M 446.800781 340.703125 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="276.030273"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="276.030273"/>
  <use xlink:href="#glyph1-7" x="461.444336" y="276.030273"/>
  <use xlink:href="#glyph1-5" x="464.501953" y="276.030273"/>
  <use xlink:href="#glyph1-6" x="470.001953" y="276.030273"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 452.28125 300.664062 L 469.5625 300.664062 L 469.5625 283.382812 L 452.28125 283.382812 Z M 452.28125 300.664062 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 465 292.023438 C 465 297.460938 456.84375 297.460938 456.84375 292.023438 C 456.84375 286.582031 465 286.582031 465 292.023438 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 452.28125 317.941406 L 469.5625 317.941406 L 469.5625 300.660156 L 452.28125 300.660156 Z M 452.28125 317.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.121094 309.304688 C 466.121094 316.234375 455.722656 316.234375 455.722656 309.304688 C 455.722656 302.371094 466.121094 302.371094 466.121094 309.304688 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 452.28125 335.222656 L 469.5625 335.222656 L 469.5625 317.941406 L 452.28125 317.941406 Z M 452.28125 335.222656 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.980469 326.582031 C 466.980469 329.929688 464.265625 332.640625 460.921875 332.640625 C 457.578125 332.640625 454.863281 329.929688 454.863281 326.582031 C 454.863281 323.238281 457.578125 320.523438 460.921875 320.523438 C 464.265625 320.523438 466.980469 323.238281 466.980469 326.582031 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="294.625977"/>
  <use xlink:href="#glyph0-2" x="479.935547" y="294.625977"/>
  <use xlink:href="#glyph0-5" x="482.381836" y="294.625977"/>
  <use xlink:href="#glyph0-3" x="487.274414" y="294.625977"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="311.907227"/>
  <use xlink:href="#glyph0-2" x="479.935547" y="311.907227"/>
  <use xlink:href="#glyph0-3" x="482.381836" y="311.907227"/>
  <use xlink:href="#glyph0-1" x="487.274414" y="311.907227"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="329.18457"/>
  <use xlink:href="#glyph0-2" x="479.935547" y="329.18457"/>
  <use xlink:href="#glyph0-6" x="482.381836" y="329.18457"/>
  <use xlink:href="#glyph0-3" x="487.274414" y="329.18457"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>Any plot (function or object) can be saved to file or converted to BufferedImage object.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(plot->file&nbsp;(str&nbsp;target-path&nbsp;"histogram.jpg")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Histogram"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"data:&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;800</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;400</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:quality&nbsp;50))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:breaks&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5],</br>&nbsp;:counts&nbsp;[5&nbsp;1&nbsp;1&nbsp;1],</br>&nbsp;:density&nbsp;[0.625&nbsp;0.125&nbsp;0.125&nbsp;0.125],</br>&nbsp;:mids&nbsp;[1.5&nbsp;2.5&nbsp;3.5&nbsp;4.5],</br>&nbsp;:xname&nbsp;["c(1,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5)"],</br>&nbsp;:equidist&nbsp;[true]}</code></div></div><div class="nspbox"><image src="histogram.jpg"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->buffered-image&nbsp;(fn&nbsp;[]&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;222</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;149)</code></div><div class="nspout"><code class="prettyprint lang-clj">#object[java.awt.image.BufferedImage&nbsp;0x11ebd23d&nbsp;"BufferedImage@11ebd23d:&nbsp;type&nbsp;=&nbsp;2&nbsp;DirectColorModel:&nbsp;rmask=ff0000&nbsp;gmask=ff00&nbsp;bmask=ff&nbsp;amask=ff000000&nbsp;IntegerInterleavedRaster:&nbsp;width&nbsp;=&nbsp;222&nbsp;height&nbsp;=&nbsp;149&nbsp;#Bands&nbsp;=&nbsp;4&nbsp;xOff&nbsp;=&nbsp;0&nbsp;yOff&nbsp;=&nbsp;0&nbsp;dataOffset[0]&nbsp;0"]</code></div></div><div class="nspbox"><a id="intermediary-representation-as-Java-objects"> </a><div><h2>Intermediary representation as Java objects</h2></div></div><div class="nspbox"><div><p>Clojisr relies on the fact of an intemediary representation of java, as Java objects. This is usually hidden from the user, but may be useful sometimes. In the current implementation, this is based on <a href='https://github.com/s-u/REngine'>REngine</a>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(import&nbsp;(org.rosuda.REngine&nbsp;REXP&nbsp;REXPInteger&nbsp;REXPDouble))</code></div></div><div class="nspbox"><div><p>We can convert data between R and Java.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(REXPInteger.&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><div><p>We can further convert data from the java representation to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>On the opposite direction, we can also convert Clojure data into the Java represenattion.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>There is an alternative way of conversion from Java to Clojure, naively converting the internal Java representation to a Clojure data structure. It can be handy when one wants to have plain access to all the metadata (R attributes), etc. </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->naive-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:attr&nbsp;nil,&nbsp;:value&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"data.frame(x=1:3,y=factor('a','a','b'))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->naive-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:attr</br>&nbsp;{:names&nbsp;["x",&nbsp;"y"],</br>&nbsp;&nbsp;:row.names&nbsp;[-2147483648,&nbsp;-3],</br>&nbsp;&nbsp;:class&nbsp;["data.frame"]},</br>&nbsp;:value&nbsp;{:x&nbsp;[1,&nbsp;2,&nbsp;3],&nbsp;:y&nbsp;["b",&nbsp;"b",&nbsp;"b"]}}</code></div></div><div class="nspbox"><div><p>We can evaluate R code and immediately return the result as a java object, without ever creating a handle to an R object holding the result:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPDouble))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPDouble]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.asDoubles)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="more-data-conversion-examples"> </a><div><h2>More data conversion examples</h2></div></div><div class="nspbox"><div><p>Convertion between R and Clojure always passes through Java. To stress this, we write it explicitly in the following examples.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,b='hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"table(c('a','b','a','b','a','b','a','b'),&nbsp;c(1,1,2,2,3,3,1,1))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((r&nbsp;"deparse"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">["list(a&nbsp;=&nbsp;1:2,&nbsp;b&nbsp;=&nbsp;\"hi!\")"]</code></div></div><div class="nspbox"><div><h3>Basic types convertion clj->r->clj</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;clj->r->clj&nbsp;(comp&nbsp;r->clj&nbsp;r))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr.v1.tutorial-test/clj->r->clj</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;nil)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10&nbsp;11])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10.0&nbsp;11.0])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;(list&nbsp;10.0&nbsp;11.0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[2.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[2.0]}]</code></div></div><div class="nspbox"><div><h3>Various R objects</h3></div></div><div class="nspbox"><div><p>Named list</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"list(a=1,b=c(10,20),c='hi!')")&nbsp;;;&nbsp;named&nbsp;list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Array of doubles</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10,20,30)")&nbsp;;;&nbsp;array&nbsp;of&nbsp;doubles</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;20.0&nbsp;30.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;20.0&nbsp;30.0]]</code></div></div><div class="nspbox"><div><p>Timeseries</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;r.datasets/euro)&nbsp;;;&nbsp;timeseries</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;13.7603))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;13.7603]</code></div></div><div class="nspbox"><div><p>Pairlist</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r.base/formals&nbsp;r.stats/dnorm)&nbsp;;;&nbsp;pairlist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;'(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)]</code></div></div><div class="nspbox"><div><p>NULL</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"NULL")&nbsp;;;&nbsp;null</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div><p>TRUE/FALSE</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"TRUE")&nbsp;;;&nbsp;true/false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[true]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[true]]</code></div></div><div class="nspbox"><a id="inspecting-R-functions"> </a><div><h2>Inspecting R functions</h2></div></div><div class="nspbox"><div><p>The <code>mean</code> function is defined to expect arguments <code>x</code> and <code>...</code>. These arguments have no default values (thus, its formals have empty symbols as values):</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><div><p>It is an <a href='http://adv-r.had.co.nz/S3.html'>S3 generic function</a> function, which we can realize by printing it:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'mean)</code></div><div class="nspout"><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;...)&nbsp;</br>UseMethod("mean")</br><bytecode:&nbsp;0x5653f7ada670></br><environment:&nbsp;namespace:base></code></div></div><div class="nspbox"><div><p>So, we can expect possibly more details when inspecting its default implementation. Now, we see some arguments that do have default values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;'mean.default</br>&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><a id="R-function-arglists"> </a><div><h2>R-function-arglists</h2></div></div><div class="nspbox"><div><p>As we saw earlier, R functions are Clojure functions. The arglists of functions brought up by <code>require-r</code> match the expected arguments. Here are some examples:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base]&nbsp;'[stats]&nbsp;'[grDevices])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;[#'r.base/mean&nbsp;#'r.base/mean-default&nbsp;#'r.stats/arima0</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.grDevices/dev-off&nbsp;#'r.base/Sys-info&nbsp;#'r.base/summary-default</br>&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;Primitive&nbsp;functions:</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/sin&nbsp;#'r.base/sum]</br>&nbsp;&nbsp;&nbsp;(map&nbsp;(fn&nbsp;[f]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(update&nbsp;:ns&nbsp;(comp&nbsp;symbol&nbsp;str)))))</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[order&nbsp;seasonal&nbsp;xreg&nbsp;include.mean&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars&nbsp;fixed&nbsp;init&nbsp;method&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;([x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[order</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seasonal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})]</code></div></div><div class="nspbox"><a id="using-Renjin"> </a><div><h2>Using Renjin</h2></div></div><div class="nspbox"><div><p>In the followint example, we use a differnt R backend (the pure JVM Renjin) for reading a csv, without changing the default backend (which is the usual R using Rserve).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'clojisr.v1.renjin)</br>&nbsp;(let&nbsp;[path&nbsp;"/tmp/data.csv"]</br>&nbsp;&nbsp;&nbsp;(spit&nbsp;path&nbsp;"a,b,c\n1,2,3\n4,5,6\n")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;`(read.csv&nbsp;~path)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args&nbsp;{:session-type&nbsp;:renjin})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/r->clj&nbsp;:session-args&nbsp;{:session-type&nbsp;:renjin})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[{:a&nbsp;1,&nbsp;:b&nbsp;2,&nbsp;:c&nbsp;3}&nbsp;{:a&nbsp;4,&nbsp;:b&nbsp;5,&nbsp;:c&nbsp;6}]))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;({:a&nbsp;1,&nbsp;:b&nbsp;2,&nbsp;:c&nbsp;3}&nbsp;{:a&nbsp;4,&nbsp;:b&nbsp;5,&nbsp;:c&nbsp;6})]</code></div></div><hr><div>Checks: <b class="PASSED">59 PASSED </b><hr></div><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Sun Mar 29 13:08:40 CEST 2020.</small></i><hr></div></div></body></html></html>
