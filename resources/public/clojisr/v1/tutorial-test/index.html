<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /></head><body><div><h1>clojisr.v1.tutorial-test</h1><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Tue Mar 24 01:01:57 CET 2020.</small></i><hr /></div><div>Checks: <b class="PASSED">59 PASSED </b><hr /></div><div>Table of contents<ul><li><a href="#basic-examples">basic-examples</a></li><li><a href="#functions">functions</a></li><li><a href="#R-dataframes-and-tech.ml.dataset">R-dataframes-and-tech.ml.dataset</a></li><li><a href="#ROBjects">ROBjects</a></li><li><a href="#generating-code">generating-code</a></li><li><a href="#running-generated-code">running-generated-code</a></li><li><a href="#requiring-R-packages">requiring-R-packages</a></li><li><a href="#data-visualization">data-visualization</a></li><li><a href="#intermediary-representation-as-Java-objects">intermediary-representation-as-Java-objects</a></li><li><a href="#more-data-conversion-examples">more-data-conversion-examples</a></li><li><a href="#inspecting-R-functions">inspecting-R-functions</a></li><li><a href="#R-function-arglists">R-function-arglists</a></li><li><a href="#using-Renjin">using-Renjin</a></li></ul><hr /></div><div class="nspbox"><div><h1>Clojisr tutorial</h1></div></div><div class="nspbox"><a id="basic-examples"> </a><div><h2>Basic examples</h2></div></div><div class="nspbox"><div><p>Let us start by some basic usage examples of Clojisr.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r&nbsp;eval-r->java&nbsp;r->java&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj&nbsp;java->naive-clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java&nbsp;r->clj&nbsp;clj->r&nbsp;->code&nbsp;r+</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colon]]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.robject&nbsp;:as&nbsp;robject]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.session&nbsp;:as&nbsp;session]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.rserve&nbsp;:as&nbsp;rserve]</br>&nbsp;&nbsp;&nbsp;'[tech.ml.dataset&nbsp;:as&nbsp;dataset])</code></div></div><div class="nspbox"><div><p>First, let us make sure that we use the Rserve backend (in case we were using Renjin instead earlier), and that there are no R sessions currently running. This is typically not needed if you just started working. Here, we do it just in case.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(rserve/set-as-default!)</br>&nbsp;(r/discard-all-sessions)</code></div></div><div class="nspbox"><div><p>Now let us run some R code, and keep a Clojure handle to the return value.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div><p>The thing we created is something called an ROBject.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(class&nbsp;x)</code></div><div class="nspout"><code class="prettyprint lang-clj">clojisr.v1.robject.RObject</code></div></div><div class="nspbox"><div><p>If we wish, we can convert an ROBject to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div><p>Let us see more examples of creating ROBjects and converting them to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;"list(A=1,B=2,'#123strange<text>&nbsp;()'=3)"</br>&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:A&nbsp;[1.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:B&nbsp;[2.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"#123strange<text>&nbsp;()"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[3.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}]</code></div></div><div class="nspbox"><div><p>In the other direction, we can convert Clojure data to R data. Note that <code>nil</code> is turned to <code>NA</code>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->r)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;&nbsp;1&nbsp;NA&nbsp;&nbsp;3</code></div></div><div class="nspbox"><div><p>We can run code on a separate R session (specify session-args which are different than the default ones).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:session-name&nbsp;"mysession"})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[3.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="functions"> </a><div><h2>Functions</h2></div></div><div class="nspbox"><div><p>An R function is also a Clojure function.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x)&nbsp;x*10"))</code></div></div><div class="nspbox"><div><p>Let us apply it to Clojure data (implicitly converting that data to R).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div><p>We can also apply it to R data.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div><p>Functions can get named arguments. Here we pass the <code>na.rm</code> argument, that tells R whether to remove missing values whenn computing the mean.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;:na.rm&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div><p>Another example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let</br>&nbsp;&nbsp;&nbsp;[f&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(w,x,y=10,z=20)&nbsp;w+x+y+z")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;[(f&nbsp;1&nbsp;2)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:y&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(f&nbsp;1&nbsp;2&nbsp;:z&nbsp;100)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[33.0]&nbsp;[123.0]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[113.0]])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;([33.0]&nbsp;[123.0]&nbsp;[113.0])]</code></div></div><div class="nspbox"><div><p>Some functions are already created in Clojisr and given special names for convenience. Here are some examples:</p></div></div><div class="nspbox"><div><p>R addition:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r+&nbsp;1&nbsp;2&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[6.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[6.0]]</code></div></div><div class="nspbox"><div><p>R colon (<code>:</code>), for creating a range of integers, like <code>0:9</code>:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(colon&nbsp;0&nbsp;9)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><a id="R-dataframes-and-tech.ml.dataset"> </a><div><h2>R dataframes and tech.ml.dataset datasets</h2></div></div><div class="nspbox"><div><p>At Clojure, we have a structure that is equivalent to R dataframes: a <a href='https://github.com/techascent/tech.ml.dataset'>tech.ml.dataset</a> dataset.</p><p>Let us create such a dataset, pass it to an R function to compute the row means, and then convert the return value back to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let</br>&nbsp;&nbsp;&nbsp;[row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(data)&nbsp;rowMeans(data)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div><p>Let us see some more dataset proccessing through R.</p></div></div><div class="nspbox"><div><p>Loading the R package <a href='https://dplyr.tidyverse.org/'>dplyr</a> (assuming it is installed).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(dplyr)")</code></div></div><div class="nspbox"><div><p>Using dplyr to process some Clojure dataset, and convert back to the resulting dataset.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let</br>&nbsp;&nbsp;&nbsp;[filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(data)&nbsp;filter(data,&nbsp;x>=2)")</br>&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(data)&nbsp;mutate(data,&nbsp;z=x+y)")]</br>&nbsp;&nbsp;&nbsp;(->></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[d]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;[{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0,&nbsp;:z&nbsp;7.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;3.0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;6.0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;9.0}]))))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;|</br>|-------+-------+-------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;9.000&nbsp;|</br>]</code></div></div><div class="nspbox"><div><p><a href='https://tibble.tidyverse.org'>Tibbles</a>, which are a more recent R dataframe notion, are also supported, as a special case of data frames.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(tibble)")</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">#&nbsp;A&nbsp;tibble:&nbsp;3&nbsp;x&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;<dbl>&nbsp;<dbl></br>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</br>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0}])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;({:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0})]</code></div></div><div class="nspbox"><a id="ROBjects"> </a><div><h2>R objects</h2></div></div><div class="nspbox"><div><p>Clojisr holds handles to R objects, that are stored in memory at the R session, where they are assigned random names.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;one+two&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clojisr.v1.robject.RObject))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;clojisr.v1.robject.RObject]</code></div></div><div class="nspbox"><div><p>The name of an object is the place where it is held at R (inside an R <a href='http://adv-r.had.co.nz/Environments.html'>evnironment</a> called <code>.MEM</code>).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(:object-name&nbsp;one+two)</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x5e37f433f886442d"</code></div></div><div class="nspbox"><a id="generating-code"> </a><div><h2>Generating code</h2></div></div><div class="nspbox"><div><p>Let us see the mechanism by which clojisr generates R code, and the rules defining it.</p></div></div><div class="nspbox"><div><p>Since we are playing a bit with the internals here, we will need a reference to the R session:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;session</br>&nbsp;&nbsp;&nbsp;(session/fetch-or-make&nbsp;nil))</code></div></div><div class="nspbox"><div><p>For the following examples, we will use some <strong>dummy</strong> handles to R objects with given names:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x</br>&nbsp;&nbsp;&nbsp;(robject/->RObject&nbsp;"robject_x"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil))</br>&nbsp;(def&nbsp;y</br>&nbsp;&nbsp;&nbsp;(robject/->RObject&nbsp;"robject_y"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil))</code></div></div><div class="nspbox"><div><p>.. and some <strong>real</strong> handles to R objects:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;minus-eleven&nbsp;(r&nbsp;"-11"))</br>&nbsp;(def&nbsp;abs&nbsp;(r&nbsp;"abs"))</code></div></div><div class="nspbox"><div><p>The function <code>-&gt;code</code> generates R code according to a certain set of rules. Here we describe some of these rules briefly. We also wrote a dedicated tutorial about the rule set more thoroughly.</p></div></div><div class="nspbox"><div><p>For an ROBject, the generated code is just the ROBject name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"robject_x"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"robject_x"]</code></div></div><div class="nspbox"><div><p>For a clojure value, we use some form analysis and generate proper R string or values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"hello"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\"hello\"$"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"\"hello\""]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(1,2,3)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(1,2,3)"]</code></div></div><div class="nspbox"><div><p>For a symbol, we generate the code with the corresponding R symbol.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'x)</code></div><div class="nspout"><code class="prettyprint lang-clj">"x"</code></div></div><div class="nspbox"><div><p>A sequential structure (list, vector, etc.) can be interpreted as a compound expression, for which code generation is defined accorting to the first list element.</p></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'function</code>, we generate an R function definition.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,y)&nbsp;{x}"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,y)&nbsp;{x}"]</code></div></div><div class="nspbox"><div><p>For a vector instead of list, we create R vector.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'[function&nbsp;[x&nbsp;y]&nbsp;x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(function,c(x,y),x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(function,c(x,y),x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'formula</code>, we generate an R <code>&#126;</code>-formula.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(formula&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x~y)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x~y)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with a symbol known to be a binary operator, we generate nested calls.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(+&nbsp;x&nbsp;y&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"((x+y)+z)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"((x+y)+z)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with another symbol, we generate a function call with that symbol as the function name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(f&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"f(x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"f(x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with an R object that is a function, we generate a function call with that object as the function. If you create the list using the quote sign (<code>'</code>), don't forget to unquote symbols refering to things you defined on the Clojure side.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#"\.MEM\$.*\(x\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x290c49f2ecbe43dd(x)"]</code></div></div><div class="nspbox"><div><p>All other sequential things (that is, those not beginning with a symbol or R function) are intepreted as data, converted implicitly R data representation.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;`(~abs&nbsp;(1&nbsp;2&nbsp;3))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re-matches</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#"\.MEM\$.*\(c\(1,2,3\)\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x290c49f2ecbe43dd(c(1,2,3))"]</code></div></div><div class="nspbox"><div><p>Some more examples, showing how these rules compose:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;~y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(robject_y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(+&nbsp;x&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;(list&nbsp;'function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[x&nbsp;y]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(list&nbsp;'+&nbsp;'x&nbsp;'y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code</br>&nbsp;&nbsp;&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(print&nbsp;x)&nbsp;(f&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{print(x);f(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(~abs&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{.MEM$x290c49f2ecbe43dd(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;~minus-eleven))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x290c49f2ecbe43dd(.MEM$x8846ec7d3b534f68)"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;-11))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x290c49f2ecbe43dd(-11)"</code></div></div><div class="nspbox"><div><p>Use syntax quote ` in case you want to use local bindings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[minus-ten&nbsp;-10]</br>&nbsp;&nbsp;&nbsp;(->code&nbsp;`(~abs&nbsp;~minus-ten)))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x290c49f2ecbe43dd(-10)"</code></div></div><div class="nspbox"><a id="running-generated-code"> </a><div><h2>Running generated code</h2></div></div><div class="nspbox"><div><p>Clojure forms can be run as R code. Behind the scences, they are turned to R code using the <code>-&gt;code</code> function described above. For example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0&nbsp;2.0&nbsp;1.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0&nbsp;2.0&nbsp;1.0]]</code></div></div><div class="nspbox"><div><p>Or, equivalently:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0&nbsp;2.0&nbsp;1.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0&nbsp;2.0&nbsp;1.0]]</code></div></div><div class="nspbox"><div><p>Let us repeat the basic examples from the beginning of this tutorial, this time generating code rather than writing it as Strings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;'(+&nbsp;1&nbsp;2)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(*&nbsp;x&nbsp;10))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[data]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rowMeans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data)))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'(library&nbsp;dplyr))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[data]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(filter&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(>=&nbsp;x&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[data]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mutate&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;z&nbsp;(+&nbsp;x&nbsp;y)))))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj))</code></div><div class="nspout"><code class="prettyprint lang-clj">_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;|</br>|-------+-------+-------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;9.000&nbsp;|</code></div></div><div class="nspbox"><a id="requiring-R-packages"> </a><div><h2>Requiring R packages</h2></div></div><div class="nspbox"><div><p>Sometimes, we want to bring to the Clojure world functions and data from R packages. Here, we try to follow the <a href='https://github.com/cnuernber/libpython-clj/blob/master/test/libpython_clj/require_python_test.clj'>require-python</a> syntax of <a href='https://github.com/cnuernber/libpython-clj'>libpython-clj</a> (though currently in a less sophisticated way.)</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[stats&nbsp;:as&nbsp;statz&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[median]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.stats/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statz/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[datasets&nbsp;:as&nbsp;datasetz</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:refer&nbsp;[euro]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[r.datasets/euro&nbsp;datasetz/euro</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;euro]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;apply&nbsp;=))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br>]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:refer&nbsp;[$]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'a)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[1.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1.0]]</code></div></div><div class="nspbox"><a id="data-visualization"> </a><div><h2>Data visualization</h2></div></div><div class="nspbox"><div><p>Functions creating R plots or any plotting objects generated by various R libraries can be wrapped in a way that returns an SVG, BufferedImage or can be saved to a file. All of them accept additional parameters specified in <code>grDevices</code> R package.</p></div></div><div class="nspbox"><div><p>Currently there is a bug that sometimes causes axes and labels to disappear when rendered inside a larger HTML.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[graphics&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot&nbsp;hist]])</br>&nbsp;(require-r&nbsp;'[ggplot2&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ggplot&nbsp;aes&nbsp;geom_point</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xlab&nbsp;ylab&nbsp;labs]])</br>&nbsp;(require</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.applications.plotting</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot->svg&nbsp;plot->file</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot->buffered-image]])</code></div></div><div class="nspbox"><div><p>First example, simple plotting function as SVG string.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;rand</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;30)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reductions&nbsp;+)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(plot&nbsp;:xlab&nbsp;"t"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"y"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d="M 1.5 0 L 1.5 -7.5 L 7.5 -7.5 L 7.5 0 Z M 1.6875 -0.1875 L 7.3125 -0.1875 L 7.3125 -7.3125 L 1.6875 -7.3125 Z M 1.6875 -0.1875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 0.5 -4.234375 C 0.5 -5.253906 0.601562 -6.070312 0.8125 -6.6875 C 1.019531 -7.3125 1.328125 -7.789062 1.734375 -8.125 C 2.148438 -8.457031 2.671875 -8.625 3.296875 -8.625 C 3.753906 -8.625 4.15625 -8.53125 4.5 -8.34375 C 4.851562 -8.15625 5.144531 -7.882812 5.375 -7.53125 C 5.601562 -7.1875 5.78125 -6.765625 5.90625 -6.265625 C 6.03125 -5.765625 6.09375 -5.085938 6.09375 -4.234375 C 6.09375 -3.222656 5.988281 -2.410156 5.78125 -1.796875 C 5.582031 -1.179688 5.273438 -0.703125 4.859375 -0.359375 C 4.453125 -0.0234375 3.929688 0.140625 3.296875 0.140625 C 2.472656 0.140625 1.820312 -0.15625 1.34375 -0.75 C 0.78125 -1.457031 0.5 -2.617188 0.5 -4.234375 Z M 1.578125 -4.234375 C 1.578125 -2.828125 1.742188 -1.890625 2.078125 -1.421875 C 2.410156 -0.953125 2.816406 -0.71875 3.296875 -0.71875 C 3.785156 -0.71875 4.191406 -0.953125 4.515625 -1.421875 C 4.847656 -1.890625 5.015625 -2.828125 5.015625 -4.234375 C 5.015625 -5.648438 4.847656 -6.585938 4.515625 -7.046875 C 4.191406 -7.515625 3.78125 -7.75 3.28125 -7.75 C 2.800781 -7.75 2.414062 -7.546875 2.125 -7.140625 C 1.757812 -6.617188 1.578125 -5.648438 1.578125 -4.234375 Z M 1.578125 -4.234375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 0.5 -2.25 L 1.609375 -2.34375 C 1.691406 -1.800781 1.878906 -1.394531 2.171875 -1.125 C 2.472656 -0.851562 2.835938 -0.71875 3.265625 -0.71875 C 3.765625 -0.71875 4.191406 -0.910156 4.546875 -1.296875 C 4.898438 -1.679688 5.078125 -2.1875 5.078125 -2.8125 C 5.078125 -3.414062 4.90625 -3.890625 4.5625 -4.234375 C 4.226562 -4.585938 3.785156 -4.765625 3.234375 -4.765625 C 2.898438 -4.765625 2.59375 -4.6875 2.3125 -4.53125 C 2.039062 -4.375 1.828125 -4.175781 1.671875 -3.9375 L 0.6875 -4.0625 L 1.515625 -8.46875 L 5.796875 -8.46875 L 5.796875 -7.46875 L 2.359375 -7.46875 L 1.90625 -5.15625 C 2.414062 -5.519531 2.953125 -5.703125 3.515625 -5.703125 C 4.265625 -5.703125 4.894531 -5.441406 5.40625 -4.921875 C 5.925781 -4.398438 6.1875 -3.726562 6.1875 -2.90625 C 6.1875 -2.132812 5.960938 -1.460938 5.515625 -0.890625 C 4.960938 -0.203125 4.210938 0.140625 3.265625 0.140625 C 2.484375 0.140625 1.84375 -0.078125 1.34375 -0.515625 C 0.851562 -0.953125 0.570312 -1.53125 0.5 -2.25 Z M 0.5 -2.25 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.46875 0 L 3.421875 0 L 3.421875 -6.71875 C 3.160156 -6.476562 2.820312 -6.234375 2.40625 -5.984375 C 2 -5.742188 1.632812 -5.566406 1.3125 -5.453125 L 1.3125 -6.46875 C 1.894531 -6.75 2.40625 -7.082031 2.84375 -7.46875 C 3.289062 -7.863281 3.609375 -8.25 3.796875 -8.625 L 4.46875 -8.625 Z M 4.46875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 6.046875 -1.015625 L 6.046875 0 L 0.359375 0 C 0.359375 -0.25 0.398438 -0.492188 0.484375 -0.734375 C 0.628906 -1.117188 0.859375 -1.5 1.171875 -1.875 C 1.492188 -2.25 1.957031 -2.679688 2.5625 -3.171875 C 3.5 -3.941406 4.128906 -4.550781 4.453125 -5 C 4.785156 -5.445312 4.953125 -5.867188 4.953125 -6.265625 C 4.953125 -6.679688 4.800781 -7.03125 4.5 -7.3125 C 4.195312 -7.601562 3.804688 -7.75 3.328125 -7.75 C 2.816406 -7.75 2.410156 -7.597656 2.109375 -7.296875 C 1.804688 -6.992188 1.648438 -6.570312 1.640625 -6.03125 L 0.5625 -6.140625 C 0.632812 -6.953125 0.910156 -7.566406 1.390625 -7.984375 C 1.878906 -8.410156 2.535156 -8.625 3.359375 -8.625 C 4.179688 -8.625 4.832031 -8.394531 5.3125 -7.9375 C 5.789062 -7.476562 6.03125 -6.910156 6.03125 -6.234375 C 6.03125 -5.890625 5.957031 -5.550781 5.8125 -5.21875 C 5.675781 -4.894531 5.441406 -4.546875 5.109375 -4.171875 C 4.785156 -3.804688 4.25 -3.304688 3.5 -2.671875 C 2.863281 -2.140625 2.453125 -1.773438 2.265625 -1.578125 C 2.085938 -1.390625 1.941406 -1.203125 1.828125 -1.015625 Z M 6.046875 -1.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 0.5 -2.265625 L 1.5625 -2.40625 C 1.675781 -1.8125 1.878906 -1.378906 2.171875 -1.109375 C 2.460938 -0.847656 2.816406 -0.71875 3.234375 -0.71875 C 3.734375 -0.71875 4.15625 -0.890625 4.5 -1.234375 C 4.84375 -1.578125 5.015625 -2.003906 5.015625 -2.515625 C 5.015625 -2.992188 4.851562 -3.390625 4.53125 -3.703125 C 4.21875 -4.023438 3.816406 -4.1875 3.328125 -4.1875 C 3.128906 -4.1875 2.878906 -4.144531 2.578125 -4.0625 L 2.703125 -5 C 2.773438 -4.988281 2.832031 -4.984375 2.875 -4.984375 C 3.320312 -4.984375 3.722656 -5.097656 4.078125 -5.328125 C 4.441406 -5.566406 4.625 -5.929688 4.625 -6.421875 C 4.625 -6.804688 4.492188 -7.125 4.234375 -7.375 C 3.972656 -7.632812 3.632812 -7.765625 3.21875 -7.765625 C 2.8125 -7.765625 2.46875 -7.632812 2.1875 -7.375 C 1.914062 -7.113281 1.742188 -6.726562 1.671875 -6.21875 L 0.609375 -6.40625 C 0.734375 -7.101562 1.023438 -7.644531 1.484375 -8.03125 C 1.941406 -8.425781 2.507812 -8.625 3.1875 -8.625 C 3.65625 -8.625 4.085938 -8.519531 4.484375 -8.3125 C 4.878906 -8.113281 5.179688 -7.84375 5.390625 -7.5 C 5.597656 -7.15625 5.703125 -6.785156 5.703125 -6.390625 C 5.703125 -6.023438 5.601562 -5.6875 5.40625 -5.375 C 5.207031 -5.070312 4.914062 -4.832031 4.53125 -4.65625 C 5.03125 -4.539062 5.421875 -4.296875 5.703125 -3.921875 C 5.984375 -3.554688 6.125 -3.09375 6.125 -2.53125 C 6.125 -1.78125 5.847656 -1.144531 5.296875 -0.625 C 4.753906 -0.101562 4.066406 0.15625 3.234375 0.15625 C 2.484375 0.15625 1.859375 -0.0664062 1.359375 -0.515625 C 0.859375 -0.972656 0.570312 -1.554688 0.5 -2.265625 Z M 0.5 -2.265625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 3.09375 -0.9375 L 3.25 -0.015625 C 2.945312 0.046875 2.679688 0.078125 2.453125 0.078125 C 2.066406 0.078125 1.769531 0.0195312 1.5625 -0.09375 C 1.351562 -0.21875 1.203125 -0.378906 1.109375 -0.578125 C 1.023438 -0.773438 0.984375 -1.191406 0.984375 -1.828125 L 0.984375 -5.40625 L 0.21875 -5.40625 L 0.21875 -6.21875 L 0.984375 -6.21875 L 0.984375 -7.765625 L 2.03125 -8.390625 L 2.03125 -6.21875 L 3.09375 -6.21875 L 3.09375 -5.40625 L 2.03125 -5.40625 L 2.03125 -1.765625 C 2.03125 -1.460938 2.046875 -1.269531 2.078125 -1.1875 C 2.117188 -1.101562 2.179688 -1.035156 2.265625 -0.984375 C 2.347656 -0.929688 2.46875 -0.90625 2.625 -0.90625 C 2.75 -0.90625 2.90625 -0.914062 3.09375 -0.9375 Z M 3.09375 -0.9375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d="M 0 -1.5 L -7.5 -1.5 L -7.5 -7.5 L 0 -7.5 Z M -0.1875 -1.6875 L -0.1875 -7.3125 L -7.3125 -7.3125 L -7.3125 -1.6875 Z M -0.1875 -1.6875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M -4.234375 -0.5 C -5.253906 -0.5 -6.070312 -0.601562 -6.6875 -0.8125 C -7.3125 -1.019531 -7.789062 -1.328125 -8.125 -1.734375 C -8.457031 -2.148438 -8.625 -2.671875 -8.625 -3.296875 C -8.625 -3.753906 -8.53125 -4.15625 -8.34375 -4.5 C -8.15625 -4.851562 -7.882812 -5.144531 -7.53125 -5.375 C -7.1875 -5.601562 -6.765625 -5.78125 -6.265625 -5.90625 C -5.765625 -6.03125 -5.085938 -6.09375 -4.234375 -6.09375 C -3.222656 -6.09375 -2.410156 -5.988281 -1.796875 -5.78125 C -1.179688 -5.582031 -0.703125 -5.273438 -0.359375 -4.859375 C -0.0234375 -4.453125 0.140625 -3.929688 0.140625 -3.296875 C 0.140625 -2.472656 -0.15625 -1.820312 -0.75 -1.34375 C -1.457031 -0.78125 -2.617188 -0.5 -4.234375 -0.5 Z M -4.234375 -1.578125 C -2.828125 -1.578125 -1.890625 -1.742188 -1.421875 -2.078125 C -0.953125 -2.410156 -0.71875 -2.816406 -0.71875 -3.296875 C -0.71875 -3.785156 -0.953125 -4.191406 -1.421875 -4.515625 C -1.890625 -4.847656 -2.828125 -5.015625 -4.234375 -5.015625 C -5.648438 -5.015625 -6.585938 -4.847656 -7.046875 -4.515625 C -7.515625 -4.191406 -7.75 -3.78125 -7.75 -3.28125 C -7.75 -2.800781 -7.546875 -2.414062 -7.140625 -2.125 C -6.617188 -1.757812 -5.648438 -1.578125 -4.234375 -1.578125 Z M -4.234375 -1.578125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M -1.015625 -6.046875 L 0 -6.046875 L 0 -0.359375 C -0.25 -0.359375 -0.492188 -0.398438 -0.734375 -0.484375 C -1.117188 -0.628906 -1.5 -0.859375 -1.875 -1.171875 C -2.25 -1.492188 -2.679688 -1.957031 -3.171875 -2.5625 C -3.941406 -3.5 -4.550781 -4.128906 -5 -4.453125 C -5.445312 -4.785156 -5.867188 -4.953125 -6.265625 -4.953125 C -6.679688 -4.953125 -7.03125 -4.800781 -7.3125 -4.5 C -7.601562 -4.195312 -7.75 -3.804688 -7.75 -3.328125 C -7.75 -2.816406 -7.597656 -2.410156 -7.296875 -2.109375 C -6.992188 -1.804688 -6.570312 -1.648438 -6.03125 -1.640625 L -6.140625 -0.5625 C -6.953125 -0.632812 -7.566406 -0.910156 -7.984375 -1.390625 C -8.410156 -1.878906 -8.625 -2.535156 -8.625 -3.359375 C -8.625 -4.179688 -8.394531 -4.832031 -7.9375 -5.3125 C -7.476562 -5.789062 -6.910156 -6.03125 -6.234375 -6.03125 C -5.890625 -6.03125 -5.550781 -5.957031 -5.21875 -5.8125 C -4.894531 -5.675781 -4.546875 -5.441406 -4.171875 -5.109375 C -3.804688 -4.785156 -3.304688 -4.25 -2.671875 -3.5 C -2.140625 -2.863281 -1.773438 -2.453125 -1.578125 -2.265625 C -1.390625 -2.085938 -1.203125 -1.941406 -1.015625 -1.828125 Z M -1.015625 -6.046875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M 0 -3.875 L -2.0625 -3.875 L -2.0625 -0.15625 L -3.03125 -0.15625 L -8.59375 -4.078125 L -8.59375 -4.9375 L -3.03125 -4.9375 L -3.03125 -6.09375 L -2.0625 -6.09375 L -2.0625 -4.9375 L 0 -4.9375 Z M -3.03125 -3.875 L -6.890625 -3.875 L -3.03125 -1.1875 Z M -3.03125 -3.875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M -6.484375 -5.96875 L -6.40625 -4.921875 C -6.820312 -4.828125 -7.125 -4.695312 -7.3125 -4.53125 C -7.613281 -4.238281 -7.765625 -3.882812 -7.765625 -3.46875 C -7.765625 -3.132812 -7.671875 -2.835938 -7.484375 -2.578125 C -7.234375 -2.253906 -6.875 -1.992188 -6.40625 -1.796875 C -5.945312 -1.609375 -5.289062 -1.507812 -4.4375 -1.5 C -4.820312 -1.75 -5.109375 -2.054688 -5.296875 -2.421875 C -5.484375 -2.796875 -5.578125 -3.1875 -5.578125 -3.59375 C -5.578125 -4.289062 -5.316406 -4.882812 -4.796875 -5.375 C -4.273438 -5.875 -3.609375 -6.125 -2.796875 -6.125 C -2.253906 -6.125 -1.75 -6.003906 -1.28125 -5.765625 C -0.820312 -5.535156 -0.46875 -5.21875 -0.21875 -4.8125 C 0.0195312 -4.40625 0.140625 -3.945312 0.140625 -3.4375 C 0.140625 -2.550781 -0.179688 -1.832031 -0.828125 -1.28125 C -1.472656 -0.726562 -2.535156 -0.453125 -4.015625 -0.453125 C -5.679688 -0.453125 -6.890625 -0.757812 -7.640625 -1.375 C -8.296875 -1.90625 -8.625 -2.625 -8.625 -3.53125 C -8.625 -4.207031 -8.429688 -4.757812 -8.046875 -5.1875 C -7.671875 -5.625 -7.148438 -5.882812 -6.484375 -5.96875 Z M -2.78125 -1.671875 C -2.414062 -1.671875 -2.066406 -1.742188 -1.734375 -1.890625 C -1.410156 -2.046875 -1.160156 -2.257812 -0.984375 -2.53125 C -0.804688 -2.8125 -0.71875 -3.109375 -0.71875 -3.421875 C -0.71875 -3.859375 -0.894531 -4.238281 -1.25 -4.5625 C -1.613281 -4.882812 -2.101562 -5.046875 -2.71875 -5.046875 C -3.3125 -5.046875 -3.78125 -4.882812 -4.125 -4.5625 C -4.46875 -4.25 -4.640625 -3.851562 -4.640625 -3.375 C -4.640625 -2.894531 -4.46875 -2.488281 -4.125 -2.15625 C -3.78125 -1.832031 -3.332031 -1.671875 -2.78125 -1.671875 Z M -2.78125 -1.671875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M -4.65625 -2.125 C -4.820312 -1.6875 -5.050781 -1.359375 -5.34375 -1.140625 C -5.644531 -0.929688 -6 -0.828125 -6.40625 -0.828125 C -7.03125 -0.828125 -7.554688 -1.050781 -7.984375 -1.5 C -8.410156 -1.957031 -8.625 -2.554688 -8.625 -3.296875 C -8.625 -4.046875 -8.40625 -4.648438 -7.96875 -5.109375 C -7.53125 -5.566406 -7 -5.796875 -6.375 -5.796875 C -5.976562 -5.796875 -5.632812 -5.691406 -5.34375 -5.484375 C -5.050781 -5.273438 -4.820312 -4.957031 -4.65625 -4.53125 C -4.488281 -5.0625 -4.210938 -5.460938 -3.828125 -5.734375 C -3.441406 -6.003906 -2.984375 -6.140625 -2.453125 -6.140625 C -1.722656 -6.140625 -1.109375 -5.878906 -0.609375 -5.359375 C -0.109375 -4.847656 0.140625 -4.164062 0.140625 -3.3125 C 0.140625 -2.46875 -0.109375 -1.785156 -0.609375 -1.265625 C -1.109375 -0.742188 -1.734375 -0.484375 -2.484375 -0.484375 C -3.046875 -0.484375 -3.515625 -0.625 -3.890625 -0.90625 C -4.265625 -1.195312 -4.519531 -1.601562 -4.65625 -2.125 Z M -6.453125 -1.90625 C -6.046875 -1.90625 -5.710938 -2.035156 -5.453125 -2.296875 C -5.191406 -2.566406 -5.0625 -2.910156 -5.0625 -3.328125 C -5.0625 -3.734375 -5.1875 -4.066406 -5.4375 -4.328125 C -5.695312 -4.585938 -6.015625 -4.71875 -6.390625 -4.71875 C -6.773438 -4.71875 -7.097656 -4.582031 -7.359375 -4.3125 C -7.628906 -4.039062 -7.765625 -3.707031 -7.765625 -3.3125 C -7.765625 -2.90625 -7.632812 -2.566406 -7.375 -2.296875 C -7.113281 -2.035156 -6.804688 -1.90625 -6.453125 -1.90625 Z M -2.484375 -1.578125 C -2.179688 -1.578125 -1.890625 -1.644531 -1.609375 -1.78125 C -1.328125 -1.925781 -1.109375 -2.140625 -0.953125 -2.421875 C -0.796875 -2.703125 -0.71875 -3.003906 -0.71875 -3.328125 C -0.71875 -3.828125 -0.878906 -4.238281 -1.203125 -4.5625 C -1.523438 -4.894531 -1.9375 -5.0625 -2.4375 -5.0625 C -2.945312 -5.0625 -3.367188 -4.894531 -3.703125 -4.5625 C -4.035156 -4.226562 -4.203125 -3.804688 -4.203125 -3.296875 C -4.203125 -2.796875 -4.035156 -2.382812 -3.703125 -2.0625 C -3.378906 -1.738281 -2.972656 -1.578125 -2.484375 -1.578125 Z M -2.484375 -1.578125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M 0 -4.46875 L 0 -3.421875 L -6.71875 -3.421875 C -6.476562 -3.160156 -6.234375 -2.820312 -5.984375 -2.40625 C -5.742188 -2 -5.566406 -1.632812 -5.453125 -1.3125 L -6.46875 -1.3125 C -6.75 -1.894531 -7.082031 -2.40625 -7.46875 -2.84375 C -7.863281 -3.289062 -8.25 -3.609375 -8.625 -3.796875 L -8.625 -4.46875 Z M 0 -4.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 2.390625 -0.75 L 1.40625 -0.625 C 1.46875 -0.851562 1.5 -1.054688 1.5 -1.234375 C 1.5 -1.460938 1.457031 -1.644531 1.375 -1.78125 C 1.300781 -1.925781 1.195312 -2.046875 1.0625 -2.140625 C 0.945312 -2.203125 0.679688 -2.3125 0.265625 -2.46875 C 0.210938 -2.476562 0.128906 -2.507812 0.015625 -2.5625 L -6.21875 -0.1875 L -6.21875 -1.328125 L -2.625 -2.625 C -2.164062 -2.789062 -1.679688 -2.941406 -1.171875 -3.078125 C -1.660156 -3.203125 -2.132812 -3.347656 -2.59375 -3.515625 L -6.21875 -4.84375 L -6.21875 -5.890625 L 0.109375 -3.53125 C 0.785156 -3.269531 1.253906 -3.070312 1.515625 -2.9375 C 1.867188 -2.75 2.125 -2.53125 2.28125 -2.28125 C 2.445312 -2.039062 2.53125 -1.753906 2.53125 -1.421875 C 2.53125 -1.222656 2.484375 -1 2.390625 -0.75 Z M 2.390625 -0.75 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.398438 416.800781 L 87.640625 401.613281 L 100.882812 397.613281 L 114.125 392.871094 L 127.367188 385.8125 L 140.605469 363.933594 L 153.847656 337.761719 L 167.089844 335.9375 L 180.332031 316.25 L 193.574219 304.3125 L 206.8125 291 L 220.054688 288.238281 L 233.296875 271.253906 L 246.539062 252.953125 L 259.78125 234.269531 L 273.019531 228.925781 L 286.261719 210.023438 L 299.503906 206.421875 L 312.746094 191.417969 L 325.984375 182.253906 L 339.226562 174.03125 L 352.46875 155.433594 L 365.710938 142.644531 L 378.953125 137.042969 L 392.191406 134.378906 L 405.433594 124.054688 L 418.675781 114.117188 L 431.917969 96.085938 L 445.160156 84.886719 L 458.398438 72.800781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 458.398438 430.558594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 61.160156 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.367188 430.558594 L 127.367188 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.574219 430.558594 L 193.574219 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.78125 430.558594 L 259.78125 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 325.984375 430.558594 L 325.984375 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.191406 430.558594 L 392.191406 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 458.398438 430.558594 L 458.398438 437.761719 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="57.660156" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="123.867188" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="186.574219" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="193.248047" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="252.78125" y="456.34375"/>
  <use xlink:href="#glyph0-2" x="259.455078" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="318.984375" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="325.658203" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="385.191406" y="456.34375"/>
  <use xlink:href="#glyph0-2" x="391.865234" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="451.398438" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="458.072266" y="456.34375"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 424.113281 L 59.039062 95.726562 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 424.113281 L 51.839844 424.113281 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 369.382812 L 51.839844 369.382812 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 314.648438 L 51.839844 314.648438 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 259.917969 L 51.839844 259.917969 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 205.1875 L 51.839844 205.1875 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 150.457031 L 51.839844 150.457031 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 95.726562 L 51.839844 95.726562 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="41.625" y="427.613281"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="41.625" y="372.882812"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.625" y="318.148438"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-4" x="41.625" y="263.417969"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.625" y="208.6875"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-6" x="41.625" y="157.457031"/>
  <use xlink:href="#glyph1-1" x="41.625" y="150.783203"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-6" x="41.625" y="102.726562"/>
  <use xlink:href="#glyph1-2" x="41.625" y="96.052734"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 430.558594 L 473.761719 430.558594 L 473.761719 59.039062 L 59.039062 59.039062 L 59.039062 430.558594 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-6" x="264.398438" y="485.144531"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-7" x="12.824219" y="247.800781"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>ggplot2 plots (or any other plot objects like lattice) can be also turned into SVG.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[x&nbsp;(repeatedly&nbsp;99&nbsp;rand)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(map&nbsp;+</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;99&nbsp;rand))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;x,&nbsp;:y&nbsp;y}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ggplot&nbsp;(aes&nbsp;:x&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:color&nbsp;'(+&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:size&nbsp;'(/&nbsp;x&nbsp;y)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(geom_point)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(xlab&nbsp;"x")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ylab&nbsp;"y")))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d="M 1.09375 0 L 1.09375 -5.5 L 5.5 -5.5 L 5.5 0 Z M 1.234375 -0.140625 L 5.359375 -0.140625 L 5.359375 -5.359375 L 1.234375 -5.359375 Z M 1.234375 -0.140625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 0.359375 -3.109375 C 0.359375 -3.847656 0.4375 -4.441406 0.59375 -4.890625 C 0.75 -5.347656 0.976562 -5.703125 1.28125 -5.953125 C 1.582031 -6.203125 1.960938 -6.328125 2.421875 -6.328125 C 2.753906 -6.328125 3.046875 -6.257812 3.296875 -6.125 C 3.554688 -5.988281 3.769531 -5.789062 3.9375 -5.53125 C 4.101562 -5.269531 4.234375 -4.957031 4.328125 -4.59375 C 4.421875 -4.226562 4.46875 -3.734375 4.46875 -3.109375 C 4.46875 -2.367188 4.390625 -1.769531 4.234375 -1.3125 C 4.085938 -0.863281 3.863281 -0.515625 3.5625 -0.265625 C 3.257812 -0.015625 2.878906 0.109375 2.421875 0.109375 C 1.804688 0.109375 1.328125 -0.109375 0.984375 -0.546875 C 0.566406 -1.066406 0.359375 -1.921875 0.359375 -3.109375 Z M 1.15625 -3.109375 C 1.15625 -2.078125 1.273438 -1.390625 1.515625 -1.046875 C 1.765625 -0.703125 2.066406 -0.53125 2.421875 -0.53125 C 2.773438 -0.53125 3.070312 -0.703125 3.3125 -1.046875 C 3.550781 -1.390625 3.671875 -2.078125 3.671875 -3.109375 C 3.671875 -4.140625 3.550781 -4.828125 3.3125 -5.171875 C 3.070312 -5.515625 2.769531 -5.6875 2.40625 -5.6875 C 2.050781 -5.6875 1.769531 -5.535156 1.5625 -5.234375 C 1.289062 -4.847656 1.15625 -4.140625 1.15625 -3.109375 Z M 1.15625 -3.109375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 0.796875 0 L 0.796875 -0.875 L 1.671875 -0.875 L 1.671875 0 Z M 0.796875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 0.359375 -1.65625 L 1.171875 -1.71875 C 1.234375 -1.320312 1.375 -1.023438 1.59375 -0.828125 C 1.8125 -0.628906 2.078125 -0.53125 2.390625 -0.53125 C 2.765625 -0.53125 3.078125 -0.671875 3.328125 -0.953125 C 3.585938 -1.234375 3.71875 -1.601562 3.71875 -2.0625 C 3.71875 -2.507812 3.59375 -2.859375 3.34375 -3.109375 C 3.101562 -3.359375 2.78125 -3.484375 2.375 -3.484375 C 2.125 -3.484375 1.898438 -3.425781 1.703125 -3.3125 C 1.503906 -3.207031 1.347656 -3.0625 1.234375 -2.875 L 0.5 -2.984375 L 1.109375 -6.21875 L 4.25 -6.21875 L 4.25 -5.46875 L 1.734375 -5.46875 L 1.390625 -3.78125 C 1.765625 -4.039062 2.160156 -4.171875 2.578125 -4.171875 C 3.128906 -4.171875 3.59375 -3.976562 3.96875 -3.59375 C 4.351562 -3.21875 4.546875 -2.734375 4.546875 -2.140625 C 4.546875 -1.566406 4.378906 -1.070312 4.046875 -0.65625 C 3.640625 -0.144531 3.085938 0.109375 2.390625 0.109375 C 1.816406 0.109375 1.347656 -0.0507812 0.984375 -0.375 C 0.617188 -0.695312 0.410156 -1.125 0.359375 -1.65625 Z M 0.359375 -1.65625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 3.28125 0 L 2.5 0 L 2.5 -4.921875 C 2.3125 -4.742188 2.066406 -4.566406 1.765625 -4.390625 C 1.460938 -4.210938 1.191406 -4.082031 0.953125 -4 L 0.953125 -4.734375 C 1.390625 -4.941406 1.769531 -5.191406 2.09375 -5.484375 C 2.414062 -5.773438 2.644531 -6.054688 2.78125 -6.328125 L 3.28125 -6.328125 Z M 3.28125 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 4.421875 -0.75 L 4.421875 0 L 0.265625 0 C 0.253906 -0.1875 0.285156 -0.363281 0.359375 -0.53125 C 0.460938 -0.820312 0.628906 -1.101562 0.859375 -1.375 C 1.097656 -1.644531 1.4375 -1.960938 1.875 -2.328125 C 2.5625 -2.890625 3.023438 -3.332031 3.265625 -3.65625 C 3.503906 -3.988281 3.625 -4.300781 3.625 -4.59375 C 3.625 -4.894531 3.515625 -5.148438 3.296875 -5.359375 C 3.078125 -5.578125 2.789062 -5.6875 2.4375 -5.6875 C 2.0625 -5.6875 1.765625 -5.570312 1.546875 -5.34375 C 1.328125 -5.125 1.210938 -4.816406 1.203125 -4.421875 L 0.40625 -4.5 C 0.46875 -5.09375 0.675781 -5.546875 1.03125 -5.859375 C 1.382812 -6.171875 1.859375 -6.328125 2.453125 -6.328125 C 3.054688 -6.328125 3.535156 -6.15625 3.890625 -5.8125 C 4.242188 -5.476562 4.421875 -5.066406 4.421875 -4.578125 C 4.421875 -4.328125 4.367188 -4.078125 4.265625 -3.828125 C 4.160156 -3.585938 3.988281 -3.332031 3.75 -3.0625 C 3.507812 -2.789062 3.113281 -2.421875 2.5625 -1.953125 C 2.09375 -1.566406 1.789062 -1.300781 1.65625 -1.15625 C 1.53125 -1.019531 1.425781 -0.882812 1.34375 -0.75 Z M 4.421875 -0.75 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 0.421875 -5.46875 L 0.421875 -6.21875 L 4.5 -6.21875 L 4.5 -5.609375 C 4.09375 -5.179688 3.691406 -4.613281 3.296875 -3.90625 C 2.898438 -3.207031 2.597656 -2.484375 2.390625 -1.734375 C 2.234375 -1.203125 2.132812 -0.625 2.09375 0 L 1.296875 0 C 1.304688 -0.5 1.40625 -1.097656 1.59375 -1.796875 C 1.78125 -2.492188 2.046875 -3.164062 2.390625 -3.8125 C 2.734375 -4.46875 3.101562 -5.019531 3.5 -5.46875 Z M 0.421875 -5.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d="M 1.375 0 L 1.375 -6.875 L 6.875 -6.875 L 6.875 0 Z M 1.546875 -0.171875 L 6.703125 -0.171875 L 6.703125 -6.703125 L 1.546875 -6.703125 Z M 1.546875 -0.171875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M 0.078125 0 L 2.171875 -2.96875 L 0.234375 -5.703125 L 1.4375 -5.703125 L 2.328125 -4.359375 C 2.484375 -4.109375 2.613281 -3.898438 2.71875 -3.734375 C 2.875 -3.960938 3.019531 -4.171875 3.15625 -4.359375 L 4.109375 -5.703125 L 5.265625 -5.703125 L 3.296875 -3.015625 L 5.421875 0 L 4.234375 0 L 3.0625 -1.765625 L 2.75 -2.25 L 1.25 0 Z M 0.078125 0 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M 2.578125 2.3125 C 2.035156 1.644531 1.582031 0.859375 1.21875 -0.046875 C 0.851562 -0.953125 0.671875 -1.890625 0.671875 -2.859375 C 0.671875 -3.703125 0.804688 -4.515625 1.078125 -5.296875 C 1.398438 -6.203125 1.898438 -7.109375 2.578125 -8.015625 L 3.265625 -8.015625 C 2.828125 -7.265625 2.539062 -6.726562 2.40625 -6.40625 C 2.1875 -5.914062 2.015625 -5.398438 1.890625 -4.859375 C 1.734375 -4.191406 1.65625 -3.519531 1.65625 -2.84375 C 1.65625 -1.125 2.191406 0.59375 3.265625 2.3125 Z M 2.578125 2.3125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M 0 0.140625 L 2.28125 -8.015625 L 3.0625 -8.015625 L 0.78125 0.140625 Z M 0 0.140625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M 0.6875 2.203125 L 0.578125 1.296875 C 0.785156 1.347656 0.96875 1.375 1.125 1.375 C 1.34375 1.375 1.515625 1.335938 1.640625 1.265625 C 1.773438 1.191406 1.878906 1.09375 1.953125 0.96875 C 2.015625 0.875 2.113281 0.632812 2.25 0.25 C 2.269531 0.195312 2.300781 0.117188 2.34375 0.015625 L 0.171875 -5.703125 L 1.21875 -5.703125 L 2.40625 -2.40625 C 2.5625 -1.976562 2.695312 -1.535156 2.8125 -1.078125 C 2.925781 -1.523438 3.0625 -1.957031 3.21875 -2.375 L 4.4375 -5.703125 L 5.40625 -5.703125 L 3.234375 0.09375 C 3.003906 0.71875 2.820312 1.148438 2.6875 1.390625 C 2.519531 1.710938 2.320312 1.945312 2.09375 2.09375 C 1.875 2.238281 1.613281 2.3125 1.3125 2.3125 C 1.125 2.3125 0.914062 2.273438 0.6875 2.203125 Z M 0.6875 2.203125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 1.359375 2.3125 L 0.671875 2.3125 C 1.734375 0.59375 2.265625 -1.125 2.265625 -2.84375 C 2.265625 -3.519531 2.191406 -4.1875 2.046875 -4.84375 C 1.921875 -5.382812 1.75 -5.898438 1.53125 -6.390625 C 1.394531 -6.710938 1.109375 -7.253906 0.671875 -8.015625 L 1.359375 -8.015625 C 2.035156 -7.109375 2.535156 -6.203125 2.859375 -5.296875 C 3.128906 -4.515625 3.265625 -3.703125 3.265625 -2.859375 C 3.265625 -1.890625 3.078125 -0.953125 2.703125 -0.046875 C 2.335938 0.859375 1.890625 1.644531 1.359375 2.3125 Z M 1.359375 2.3125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 2.75 -1.265625 L 2.75 -3.4375 L 0.609375 -3.4375 L 0.609375 -4.328125 L 2.75 -4.328125 L 2.75 -6.484375 L 3.671875 -6.484375 L 3.671875 -4.328125 L 5.8125 -4.328125 L 5.8125 -3.4375 L 3.671875 -3.4375 L 3.671875 -1.265625 Z M 2.75 -1.265625 "/>
</symbol>
<symbol overflow="visible" id="glyph2-0">
<path style="stroke:none;" d="M 0 -1.375 L -6.875 -1.375 L -6.875 -6.875 L 0 -6.875 Z M -0.171875 -1.546875 L -0.171875 -6.703125 L -6.703125 -6.703125 L -6.703125 -1.546875 Z M -0.171875 -1.546875 "/>
</symbol>
<symbol overflow="visible" id="glyph2-1">
<path style="stroke:none;" d="M 2.203125 -0.6875 L 1.296875 -0.578125 C 1.347656 -0.785156 1.375 -0.96875 1.375 -1.125 C 1.375 -1.34375 1.335938 -1.515625 1.265625 -1.640625 C 1.191406 -1.773438 1.09375 -1.878906 0.96875 -1.953125 C 0.875 -2.015625 0.632812 -2.113281 0.25 -2.25 C 0.195312 -2.269531 0.117188 -2.300781 0.015625 -2.34375 L -5.703125 -0.171875 L -5.703125 -1.21875 L -2.40625 -2.40625 C -1.976562 -2.5625 -1.535156 -2.695312 -1.078125 -2.8125 C -1.523438 -2.925781 -1.957031 -3.0625 -2.375 -3.21875 L -5.703125 -4.4375 L -5.703125 -5.40625 L 0.09375 -3.234375 C 0.71875 -3.003906 1.148438 -2.820312 1.390625 -2.6875 C 1.710938 -2.519531 1.945312 -2.320312 2.09375 -2.09375 C 2.238281 -1.875 2.3125 -1.613281 2.3125 -1.3125 C 2.3125 -1.125 2.273438 -0.914062 2.203125 -0.6875 Z M 2.203125 -0.6875 "/>
</symbol>
</g>
<clipPath id="clip1">
  <path d="M 37.152344 5.480469 L 435.84375 5.480469 L 435.84375 470.851562 L 37.152344 470.851562 Z M 37.152344 5.480469 "/>
</clipPath>
<clipPath id="clip2">
  <path d="M 37.152344 414 L 435.84375 414 L 435.84375 416 L 37.152344 416 Z M 37.152344 414 "/>
</clipPath>
<clipPath id="clip3">
  <path d="M 37.152344 289 L 435.84375 289 L 435.84375 290 L 37.152344 290 Z M 37.152344 289 "/>
</clipPath>
<clipPath id="clip4">
  <path d="M 37.152344 163 L 435.84375 163 L 435.84375 164 L 37.152344 164 Z M 37.152344 163 "/>
</clipPath>
<clipPath id="clip5">
  <path d="M 37.152344 37 L 435.84375 37 L 435.84375 39 L 37.152344 39 Z M 37.152344 37 "/>
</clipPath>
<clipPath id="clip6">
  <path d="M 91 5.480469 L 92 5.480469 L 92 470.851562 L 91 470.851562 Z M 91 5.480469 "/>
</clipPath>
<clipPath id="clip7">
  <path d="M 185 5.480469 L 187 5.480469 L 187 470.851562 L 185 470.851562 Z M 185 5.480469 "/>
</clipPath>
<clipPath id="clip8">
  <path d="M 279 5.480469 L 281 5.480469 L 281 470.851562 L 279 470.851562 Z M 279 5.480469 "/>
</clipPath>
<clipPath id="clip9">
  <path d="M 373 5.480469 L 375 5.480469 L 375 470.851562 L 373 470.851562 Z M 373 5.480469 "/>
</clipPath>
<clipPath id="clip10">
  <path d="M 37.152344 351 L 435.84375 351 L 435.84375 353 L 37.152344 353 Z M 37.152344 351 "/>
</clipPath>
<clipPath id="clip11">
  <path d="M 37.152344 226 L 435.84375 226 L 435.84375 228 L 37.152344 228 Z M 37.152344 226 "/>
</clipPath>
<clipPath id="clip12">
  <path d="M 37.152344 100 L 435.84375 100 L 435.84375 102 L 37.152344 102 Z M 37.152344 100 "/>
</clipPath>
<clipPath id="clip13">
  <path d="M 44 5.480469 L 46 5.480469 L 46 470.851562 L 44 470.851562 Z M 44 5.480469 "/>
</clipPath>
<clipPath id="clip14">
  <path d="M 138 5.480469 L 140 5.480469 L 140 470.851562 L 138 470.851562 Z M 138 5.480469 "/>
</clipPath>
<clipPath id="clip15">
  <path d="M 232 5.480469 L 234 5.480469 L 234 470.851562 L 232 470.851562 Z M 232 5.480469 "/>
</clipPath>
<clipPath id="clip16">
  <path d="M 326 5.480469 L 328 5.480469 L 328 470.851562 L 326 470.851562 Z M 326 5.480469 "/>
</clipPath>
<clipPath id="clip17">
  <path d="M 420 5.480469 L 422 5.480469 L 422 470.851562 L 420 470.851562 Z M 420 5.480469 "/>
</clipPath>
<clipPath id="clip18">
  <path d="M 452.28125 248.324219 L 469.5625 248.324219 L 469.5625 334.722656 L 452.28125 334.722656 Z M 452.28125 248.324219 "/>
</clipPath>
<image id="image10" width="1" height="20" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAIAAADDbMD2AAAABmJLR0QA/wD/AP+gvaeTAAAAM0lEQVQImW3GsQ0AIAwDMJQj+ZPjaJqqkRhgZLLHXERnoLXhjPerdW/xI2ERLqKVcBGuPN0+Oajx0h1cAAAAAElFTkSuQmCC"/>
<pattern id="pattern0" patternUnits="userSpaceOnUse" width="1" height="20"  patternTransform="matrix(17.28,0,0,4.32,452.281644,248.32274)">
  <use xlink:href="#image10"/>
</pattern>
</defs>
<g id="surface6">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 0 504 L 504 504 L 504 0 L 0 0 Z M 0 504 "/>
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(92.156863%,92.156863%,92.156863%);fill-opacity:1;" d="M 37.152344 470.847656 L 435.84375 470.847656 L 435.84375 5.476562 L 37.152344 5.476562 Z M 37.152344 470.847656 "/>
</g>
<g clip-path="url(#clip2)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 415.117188 L 435.84375 415.117188 "/>
</g>
<g clip-path="url(#clip3)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 289.40625 L 435.84375 289.40625 "/>
</g>
<g clip-path="url(#clip4)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 163.695312 L 435.84375 163.695312 "/>
</g>
<g clip-path="url(#clip5)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 37.984375 L 435.84375 37.984375 "/>
</g>
<g clip-path="url(#clip6)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 91.734375 470.847656 L 91.734375 5.480469 "/>
</g>
<g clip-path="url(#clip7)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 185.871094 470.847656 L 185.871094 5.480469 "/>
</g>
<g clip-path="url(#clip8)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 280.007812 470.847656 L 280.007812 5.480469 "/>
</g>
<g clip-path="url(#clip9)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 374.144531 470.847656 L 374.144531 5.480469 "/>
</g>
<g clip-path="url(#clip10)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 352.261719 L 435.84375 352.261719 "/>
</g>
<g clip-path="url(#clip11)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 226.550781 L 435.84375 226.550781 "/>
</g>
<g clip-path="url(#clip12)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 100.839844 L 435.84375 100.839844 "/>
</g>
<g clip-path="url(#clip13)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 44.664062 470.847656 L 44.664062 5.480469 "/>
</g>
<g clip-path="url(#clip14)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 138.804688 470.847656 L 138.804688 5.480469 "/>
</g>
<g clip-path="url(#clip15)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 232.941406 470.847656 L 232.941406 5.480469 "/>
</g>
<g clip-path="url(#clip16)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 327.078125 470.847656 L 327.078125 5.480469 "/>
</g>
<g clip-path="url(#clip17)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 421.214844 470.847656 L 421.214844 5.480469 "/>
</g>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.039216%,28.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.039216%,28.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 63.390625 423.976562 C 63.390625 428.726562 56.269531 428.726562 56.269531 423.976562 C 56.269531 419.230469 63.390625 419.230469 63.390625 423.976562 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 342.449219 256.148438 C 342.449219 259.695312 339.574219 262.570312 336.027344 262.570312 C 332.484375 262.570312 329.609375 259.695312 329.609375 256.148438 C 329.609375 252.605469 332.484375 249.730469 336.027344 249.730469 C 339.574219 249.730469 342.449219 252.605469 342.449219 256.148438 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,29.803922%,43.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,29.803922%,43.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 211.589844 365.148438 C 211.589844 368.808594 208.621094 371.777344 204.960938 371.777344 C 201.300781 371.777344 198.335938 368.808594 198.335938 365.148438 C 198.335938 361.488281 201.300781 358.523438 204.960938 358.523438 C 208.621094 358.523438 211.589844 361.488281 211.589844 365.148438 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,36.862745%,53.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,36.862745%,53.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 239.050781 292.382812 C 239.050781 295.582031 236.457031 298.175781 233.257812 298.175781 C 230.058594 298.175781 227.464844 295.582031 227.464844 292.382812 C 227.464844 289.183594 230.058594 286.589844 233.257812 286.589844 C 236.457031 286.589844 239.050781 289.183594 239.050781 292.382812 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.117647%,76.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.117647%,76.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 361.738281 162.578125 C 361.738281 165.738281 359.175781 168.304688 356.011719 168.304688 C 352.851562 168.304688 350.285156 165.738281 350.285156 162.578125 C 350.285156 159.414062 352.851562 156.851562 356.011719 156.851562 C 359.175781 156.851562 361.738281 159.414062 361.738281 162.578125 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.980392%,45.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.980392%,45.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 130.320312 297.738281 C 130.320312 303.394531 121.835938 303.394531 121.835938 297.738281 C 121.835938 292.082031 130.320312 292.082031 130.320312 297.738281 "/>
<path style="fill-rule:nonzero;fill:rgb(26.666667%,54.901961%,77.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.666667%,54.901961%,77.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 408.019531 185.046875 C 408.019531 188.484375 405.230469 191.273438 401.789062 191.273438 C 398.347656 191.273438 395.558594 188.484375 395.558594 185.046875 C 395.558594 181.605469 398.347656 178.816406 401.789062 178.816406 C 405.230469 178.816406 408.019531 181.605469 408.019531 185.046875 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.235294%,41.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.235294%,41.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 109.289062 316.914062 C 109.289062 322.203125 101.355469 322.203125 101.355469 316.914062 C 101.355469 311.628906 109.289062 311.628906 109.289062 316.914062 "/>
<path style="fill-rule:nonzero;fill:rgb(25.882353%,53.72549%,75.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.882353%,53.72549%,75.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 307.414062 134.71875 C 307.414062 141.578125 297.125 141.578125 297.125 134.71875 C 297.125 127.859375 307.414062 127.859375 307.414062 134.71875 "/>
<path style="fill-rule:nonzero;fill:rgb(10.196078%,21.960784%,33.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.196078%,21.960784%,33.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 121.625 408.855469 C 121.625 412.070312 119.019531 414.675781 115.804688 414.675781 C 112.589844 414.675781 109.984375 412.070312 109.984375 408.855469 C 109.984375 405.636719 112.589844 403.03125 115.804688 403.03125 C 119.019531 403.03125 121.625 405.636719 121.625 408.855469 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.098039%,37.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.098039%,37.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.523438 335.074219 C 74.523438 339.175781 68.371094 339.175781 68.371094 335.074219 C 68.371094 330.972656 74.523438 330.972656 74.523438 335.074219 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,52.156863%,73.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,52.156863%,73.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 252.875 114.941406 C 252.875 121.078125 243.671875 121.078125 243.671875 114.941406 C 243.671875 108.804688 252.875 108.804688 252.875 114.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,32.941176%,47.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,32.941176%,47.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 152.742188 286.527344 C 152.742188 292.578125 143.664062 292.578125 143.664062 286.527344 C 143.664062 280.476562 152.742188 280.476562 152.742188 286.527344 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.078431%,52.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.078431%,52.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 149.390625 240.78125 C 149.390625 246.304688 141.101562 246.304688 141.101562 240.78125 C 141.101562 235.253906 149.390625 235.253906 149.390625 240.78125 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,43.921569%,62.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,43.921569%,62.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 233.113281 200.457031 C 233.113281 206.992188 223.316406 206.992188 223.316406 200.457031 C 223.316406 193.921875 233.113281 193.921875 233.113281 200.457031 "/>
<path style="fill-rule:nonzero;fill:rgb(8.627451%,19.215686%,29.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.627451%,19.215686%,29.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 98.46875 433.921875 C 98.46875 437.207031 95.804688 439.871094 92.519531 439.871094 C 89.234375 439.871094 86.570312 437.207031 86.570312 433.921875 C 86.570312 430.636719 89.234375 427.972656 92.519531 427.972656 C 95.804688 427.972656 98.46875 430.636719 98.46875 433.921875 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.294118%,50.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.294118%,50.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 83.824219 211.453125 C 83.824219 215.101562 78.347656 215.101562 78.347656 211.453125 C 78.347656 207.800781 83.824219 207.800781 83.824219 211.453125 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.980392%,45.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.980392%,45.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 57.179688 250.953125 C 57.179688 252.847656 54.335938 252.847656 54.335938 250.953125 C 54.335938 249.058594 57.179688 249.058594 57.179688 250.953125 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,42.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,42.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 145.808594 335.289062 C 145.808594 341.867188 135.933594 341.867188 135.933594 335.289062 C 135.933594 328.707031 145.808594 328.707031 145.808594 335.289062 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.431373%,28.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.431373%,28.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 62.300781 417.835938 C 62.300781 422.304688 55.597656 422.304688 55.597656 417.835938 C 55.597656 413.367188 62.300781 413.367188 62.300781 417.835938 "/>
<path style="fill-rule:nonzero;fill:rgb(28.235294%,58.039216%,81.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.235294%,58.039216%,81.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 303.28125 80.246094 C 303.28125 86.6875 293.613281 86.6875 293.613281 80.246094 C 293.613281 73.800781 303.28125 73.800781 303.28125 80.246094 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,51.764706%,72.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,51.764706%,72.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 238.863281 112.210938 C 238.863281 118.167969 229.925781 118.167969 229.925781 112.210938 C 229.925781 106.253906 238.863281 106.253906 238.863281 112.210938 "/>
<path style="fill-rule:nonzero;fill:rgb(28.235294%,58.431373%,82.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.235294%,58.431373%,82.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 333.515625 94.722656 C 333.515625 101.546875 323.28125 101.546875 323.28125 94.722656 C 323.28125 87.898438 333.515625 87.898438 333.515625 94.722656 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.882353%,65.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.882353%,65.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 248.941406 188.484375 C 248.941406 195.121094 238.988281 195.121094 238.988281 188.484375 C 238.988281 181.851562 248.941406 181.851562 248.941406 188.484375 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,55.686275%,78.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,55.686275%,78.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 419.980469 182.824219 C 419.980469 186.300781 417.164062 189.121094 413.6875 189.121094 C 410.210938 189.121094 407.394531 186.300781 407.394531 182.824219 C 407.394531 179.351562 410.210938 176.53125 413.6875 176.53125 C 417.164062 176.53125 419.980469 179.351562 419.980469 182.824219 "/>
<path style="fill-rule:nonzero;fill:rgb(7.843137%,17.254902%,27.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.843137%,17.254902%,27.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 87.875 449.695312 C 87.875 453.230469 85.011719 456.09375 81.476562 456.09375 C 77.945312 456.09375 75.082031 453.230469 75.082031 449.695312 C 75.082031 446.164062 77.945312 443.300781 81.476562 443.300781 C 85.011719 443.300781 87.875 446.164062 87.875 449.695312 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.843137%,41.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.843137%,41.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 143.710938 342.542969 C 143.710938 349.199219 133.726562 349.199219 133.726562 342.542969 C 133.726562 335.886719 143.710938 335.886719 143.710938 342.542969 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,44.705882%,63.921569%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,44.705882%,63.921569%);stroke-opacity:1;stroke-miterlimit:10;" d="M 192.292969 163.070312 C 192.292969 168.742188 183.78125 168.742188 183.78125 163.070312 C 183.78125 157.394531 192.292969 157.394531 192.292969 163.070312 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.392157%,58.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.392157%,58.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 318.726562 298.515625 C 318.726562 302.246094 315.703125 305.269531 311.972656 305.269531 C 308.238281 305.269531 305.214844 302.246094 305.214844 298.515625 C 305.214844 294.785156 308.238281 291.757812 311.972656 291.757812 C 315.703125 291.757812 318.726562 294.785156 318.726562 298.515625 "/>
<path style="fill-rule:nonzero;fill:rgb(31.372549%,64.705882%,90.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.372549%,64.705882%,90.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 375.097656 52.929688 C 375.097656 59.84375 364.734375 59.84375 364.734375 52.929688 C 364.734375 46.019531 375.097656 46.019531 375.097656 52.929688 "/>
<path style="fill-rule:nonzero;fill:rgb(26.666667%,54.901961%,77.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.666667%,54.901961%,77.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 419.875 192.480469 C 419.875 196.003906 417.019531 198.859375 413.496094 198.859375 C 409.972656 198.859375 407.121094 196.003906 407.121094 192.480469 C 407.121094 188.960938 409.972656 186.105469 413.496094 186.105469 C 417.019531 186.105469 419.875 188.960938 419.875 192.480469 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,52.941176%,74.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,52.941176%,74.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.734375 126.328125 C 279.734375 132.835938 269.972656 132.835938 269.972656 126.328125 C 269.972656 119.820312 279.734375 119.820312 279.734375 126.328125 "/>
<path style="fill-rule:nonzero;fill:rgb(20.784314%,43.529412%,61.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.784314%,43.529412%,61.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 338.65625 277.664062 C 338.65625 281.339844 335.679688 284.320312 332.003906 284.320312 C 328.328125 284.320312 325.351562 281.339844 325.351562 277.664062 C 325.351562 273.992188 328.328125 271.011719 332.003906 271.011719 C 335.679688 271.011719 338.65625 273.992188 338.65625 277.664062 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 299.878906 201.238281 C 299.878906 204.289062 297.40625 206.765625 294.351562 206.765625 C 291.300781 206.765625 288.824219 204.289062 288.824219 201.238281 C 288.824219 198.183594 291.300781 195.710938 294.351562 195.710938 C 297.40625 195.710938 299.878906 198.183594 299.878906 201.238281 "/>
<path style="fill-rule:nonzero;fill:rgb(30.980392%,63.921569%,89.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.980392%,63.921569%,89.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 378.53125 62.710938 C 378.53125 69.714844 368.027344 69.714844 368.027344 62.710938 C 368.027344 55.710938 378.53125 55.710938 378.53125 62.710938 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.509804%,76.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.509804%,76.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 363.082031 161.792969 C 363.082031 164.957031 360.515625 167.523438 357.351562 167.523438 C 354.183594 167.523438 351.621094 164.957031 351.621094 161.792969 C 351.621094 158.628906 354.183594 156.0625 357.351562 156.0625 C 360.515625 156.0625 363.082031 158.628906 363.082031 161.792969 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,33.333333%,48.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,33.333333%,48.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 166.472656 288.5 C 166.472656 294.867188 156.925781 294.867188 156.925781 288.5 C 156.925781 282.136719 166.472656 282.136719 166.472656 288.5 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,29.803922%,43.921569%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,29.803922%,43.921569%);stroke-opacity:1;stroke-miterlimit:10;" d="M 58.714844 262.414062 C 58.714844 264.835938 55.082031 264.835938 55.082031 262.414062 C 55.082031 259.992188 58.714844 259.992188 58.714844 262.414062 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.235294%,41.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.235294%,41.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 89.019531 303.441406 C 89.019531 307.894531 82.34375 307.894531 82.34375 303.441406 C 82.34375 298.988281 89.019531 298.988281 89.019531 303.441406 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.27451%,65.882353%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.27451%,65.882353%);stroke-opacity:1;stroke-miterlimit:10;" d="M 204.753906 154.265625 C 204.753906 160.054688 196.066406 160.054688 196.066406 154.265625 C 196.066406 148.472656 204.753906 148.472656 204.753906 154.265625 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,36.862745%,52.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,36.862745%,52.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 92.890625 197.996094 C 92.890625 201.882812 87.058594 201.882812 87.058594 197.996094 C 87.058594 194.105469 92.890625 194.105469 92.890625 197.996094 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,40%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,40%);stroke-opacity:1;stroke-miterlimit:10;" d="M 177.027344 377.839844 C 177.027344 381.328125 174.203125 384.152344 170.71875 384.152344 C 167.234375 384.152344 164.40625 381.328125 164.40625 377.839844 C 164.40625 374.355469 167.234375 371.53125 170.71875 371.53125 C 174.203125 371.53125 177.027344 374.355469 177.027344 377.839844 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.117647%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.117647%);stroke-opacity:1;stroke-miterlimit:10;" d="M 234.207031 278.660156 C 234.207031 281.738281 231.710938 284.234375 228.628906 284.234375 C 225.550781 284.234375 223.050781 281.738281 223.050781 278.660156 C 223.050781 275.578125 225.550781 273.082031 228.628906 273.082031 C 231.710938 273.082031 234.207031 275.578125 234.207031 278.660156 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.449219 293.085938 C 279.449219 296.546875 276.644531 299.347656 273.183594 299.347656 C 269.722656 299.347656 266.917969 296.546875 266.917969 293.085938 C 266.917969 289.625 269.722656 286.820312 273.183594 286.820312 C 276.644531 286.820312 279.449219 289.625 279.449219 293.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 195.71875 252.050781 C 195.71875 258.53125 186 258.53125 186 252.050781 C 186 245.570312 195.71875 245.570312 195.71875 252.050781 "/>
<path style="fill-rule:nonzero;fill:rgb(8.627451%,19.215686%,29.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.627451%,19.215686%,29.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 78.675781 417.46875 C 78.675781 423.300781 69.929688 423.300781 69.929688 417.46875 C 69.929688 411.640625 78.675781 411.640625 78.675781 417.46875 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.470588%,52.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.470588%,52.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 125.441406 223.214844 C 125.441406 228.097656 118.121094 228.097656 118.121094 223.214844 C 118.121094 218.335938 125.441406 218.335938 125.441406 223.214844 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,65.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,65.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.585938 210.582031 C 279.585938 213.578125 277.160156 216.003906 274.164062 216.003906 C 271.171875 216.003906 268.746094 213.578125 268.746094 210.582031 C 268.746094 207.589844 271.171875 205.164062 274.164062 205.164062 C 277.160156 205.164062 279.585938 207.589844 279.585938 210.582031 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.588235%,44.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.588235%,44.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 122.058594 295.40625 C 122.058594 300.820312 113.933594 300.820312 113.933594 295.40625 C 113.933594 289.992188 122.058594 289.992188 122.058594 295.40625 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.411765%,43.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.411765%,43.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 97.554688 296.0625 C 97.554688 300.753906 90.519531 300.753906 90.519531 296.0625 C 90.519531 291.371094 97.554688 291.371094 97.554688 296.0625 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.411765%,96.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.411765%,96.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 417.738281 26.632812 C 417.738281 33.714844 407.117188 33.714844 407.117188 26.632812 C 407.117188 19.550781 417.738281 19.550781 417.738281 26.632812 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 300.160156 201.742188 C 300.160156 204.796875 297.683594 207.273438 294.625 207.273438 C 291.570312 207.273438 289.09375 204.796875 289.09375 201.742188 C 289.09375 198.683594 291.570312 196.207031 294.625 196.207031 C 297.683594 196.207031 300.160156 198.683594 300.160156 201.742188 "/>
<path style="fill-rule:nonzero;fill:rgb(29.803922%,61.960784%,86.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.803922%,61.960784%,86.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 363.339844 76.5625 C 363.339844 83.527344 352.890625 83.527344 352.890625 76.5625 C 352.890625 69.597656 363.339844 69.597656 363.339844 76.5625 "/>
<path style="fill-rule:nonzero;fill:rgb(30.980392%,64.313725%,89.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.980392%,64.313725%,89.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 393.3125 69.027344 C 393.3125 76.191406 382.566406 76.191406 382.566406 69.027344 C 382.566406 61.859375 393.3125 61.859375 393.3125 69.027344 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.058824%,67.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.058824%,67.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 298.902344 206.246094 C 298.902344 209.316406 296.414062 211.804688 293.34375 211.804688 C 290.277344 211.804688 287.785156 209.316406 287.785156 206.246094 C 287.785156 203.175781 290.277344 200.6875 293.34375 200.6875 C 296.414062 200.6875 298.902344 203.175781 298.902344 206.246094 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,33.72549%,49.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,33.72549%,49.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 119.34375 253.160156 C 119.34375 258.117188 111.910156 258.117188 111.910156 253.160156 C 111.910156 248.207031 119.34375 248.207031 119.34375 253.160156 "/>
<path style="fill-rule:nonzero;fill:rgb(26.666667%,55.686275%,78.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.666667%,55.686275%,78.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 308.199219 112.503906 C 308.199219 119.207031 298.140625 119.207031 298.140625 112.503906 C 298.140625 105.800781 308.199219 105.800781 308.199219 112.503906 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.803922%,70.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.803922%,70.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 260.714844 148.664062 C 260.714844 155.117188 251.03125 155.117188 251.03125 148.664062 C 251.03125 142.207031 260.714844 142.207031 260.714844 148.664062 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.431373%,55.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.431373%,55.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 198.375 245.433594 C 198.375 251.886719 188.695312 251.886719 188.695312 245.433594 C 188.695312 238.984375 198.375 238.984375 198.375 245.433594 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.019608%,42.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.019608%,42.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 58.296875 275.324219 C 58.296875 277.792969 54.597656 277.792969 54.597656 275.324219 C 54.597656 272.859375 58.296875 272.859375 58.296875 275.324219 "/>
<path style="fill-rule:nonzero;fill:rgb(7.45098%,16.862745%,26.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.45098%,16.862745%,26.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 66.734375 444.460938 C 66.734375 450.441406 57.757812 450.441406 57.757812 444.460938 C 57.757812 438.476562 66.734375 438.476562 66.734375 444.460938 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.882353%,65.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.882353%,65.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 238.785156 180.003906 C 238.785156 186.4375 229.136719 186.4375 229.136719 180.003906 C 229.136719 173.570312 238.785156 173.570312 238.785156 180.003906 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.431373%,28.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.431373%,28.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 71.320312 426.769531 C 71.320312 432.367188 62.925781 432.367188 62.925781 426.769531 C 62.925781 421.175781 71.320312 421.175781 71.320312 426.769531 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.490196%,91.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.490196%,91.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 423.300781 74.113281 C 423.300781 77.191406 420.800781 79.691406 417.722656 79.691406 C 414.640625 79.691406 412.140625 77.191406 412.140625 74.113281 C 412.140625 71.03125 414.640625 68.535156 417.722656 68.535156 C 420.800781 68.535156 423.300781 71.03125 423.300781 74.113281 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.607843%,56.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.607843%,56.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 129.953125 188.003906 C 129.953125 192.757812 122.820312 192.757812 122.820312 188.003906 C 122.820312 183.246094 129.953125 183.246094 129.953125 188.003906 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.509804%,76.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.509804%,76.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 345.09375 149.214844 C 345.09375 152.257812 342.625 154.730469 339.578125 154.730469 C 336.53125 154.730469 334.0625 152.257812 334.0625 149.214844 C 334.0625 146.167969 336.53125 143.699219 339.578125 143.699219 C 342.625 143.699219 345.09375 146.167969 345.09375 149.214844 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,34.117647%,49.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,34.117647%,49.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 167.191406 280.25 C 167.191406 286.527344 157.773438 286.527344 157.773438 280.25 C 157.773438 273.96875 167.191406 273.96875 167.191406 280.25 "/>
<path style="fill-rule:nonzero;fill:rgb(30.196078%,62.352941%,87.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.196078%,62.352941%,87.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 372.046875 77.863281 C 372.046875 84.914062 361.472656 84.914062 361.472656 77.863281 C 361.472656 70.816406 372.046875 70.816406 372.046875 77.863281 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,41.960784%,60.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,41.960784%,60.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.570312 240.175781 C 259.570312 243.203125 257.117188 245.652344 254.09375 245.652344 C 251.070312 245.652344 248.617188 243.203125 248.617188 240.175781 C 248.617188 237.152344 251.070312 234.703125 254.09375 234.703125 C 257.117188 234.703125 259.570312 237.152344 259.570312 240.175781 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,40%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,40%);stroke-opacity:1;stroke-miterlimit:10;" d="M 71.140625 310.265625 C 71.140625 313.960938 65.597656 313.960938 65.597656 310.265625 C 65.597656 306.566406 71.140625 306.566406 71.140625 310.265625 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.784314%,85.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.784314%,85.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 345.066406 77.945312 C 345.066406 84.757812 334.839844 84.757812 334.839844 77.945312 C 334.839844 71.128906 345.066406 71.128906 345.066406 77.945312 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.980392%,45.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.980392%,45.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 180.6875 329.628906 C 180.6875 332.652344 178.238281 335.105469 175.214844 335.105469 C 172.191406 335.105469 169.742188 332.652344 169.742188 329.628906 C 169.742188 326.609375 172.191406 324.15625 175.214844 324.15625 C 178.238281 324.15625 180.6875 326.609375 180.6875 329.628906 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 286.039062 75.871094 C 286.039062 82.121094 276.664062 82.121094 276.664062 75.871094 C 276.664062 69.625 286.039062 69.625 286.039062 75.871094 "/>
<path style="fill-rule:nonzero;fill:rgb(10.588235%,23.137255%,34.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.588235%,23.137255%,34.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 110.773438 386.628906 C 110.773438 393.195312 100.925781 393.195312 100.925781 386.628906 C 100.925781 380.0625 110.773438 380.0625 110.773438 386.628906 "/>
<path style="fill-rule:nonzero;fill:rgb(9.019608%,19.607843%,30.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.019608%,19.607843%,30.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 58 399.59375 C 58 403.230469 52.542969 403.230469 52.542969 399.59375 C 52.542969 395.953125 58 395.953125 58 399.59375 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,32.941176%,48.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,32.941176%,48.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 244.734375 343.085938 C 244.734375 346.761719 241.757812 349.738281 238.082031 349.738281 C 234.410156 349.738281 231.429688 346.761719 231.429688 343.085938 C 231.429688 339.414062 234.410156 336.433594 238.082031 336.433594 C 241.757812 336.433594 244.734375 339.414062 244.734375 343.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,40.784314%,58.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,40.784314%,58.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 229.046875 238.867188 C 229.046875 245.722656 218.761719 245.722656 218.761719 238.867188 C 218.761719 232.011719 229.046875 232.011719 229.046875 238.867188 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,50.196078%,70.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,50.196078%,70.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 282.199219 160.0625 C 282.199219 166.851562 272.015625 166.851562 272.015625 160.0625 C 272.015625 153.273438 282.199219 153.273438 282.199219 160.0625 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,52.54902%,74.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,52.54902%,74.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 319.578125 153.523438 C 319.578125 160.660156 308.875 160.660156 308.875 153.523438 C 308.875 146.386719 319.578125 146.386719 319.578125 153.523438 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.294118%,51.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.294118%,51.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 171.859375 265.355469 C 171.859375 271.554688 162.5625 271.554688 162.5625 265.355469 C 162.5625 259.15625 171.859375 259.15625 171.859375 265.355469 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,33.72549%,49.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,33.72549%,49.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 96.660156 237.046875 C 96.660156 241.265625 90.332031 241.265625 90.332031 237.046875 C 90.332031 232.824219 96.660156 232.824219 96.660156 237.046875 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 346.527344 232.65625 C 346.527344 236.082031 343.753906 238.859375 340.328125 238.859375 C 336.902344 238.859375 334.128906 236.082031 334.128906 232.65625 C 334.128906 229.234375 336.902344 226.457031 340.328125 226.457031 C 343.753906 226.457031 346.527344 229.234375 346.527344 232.65625 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 105.890625 227.246094 C 105.890625 231.671875 99.253906 231.671875 99.253906 227.246094 C 99.253906 222.824219 105.890625 222.824219 105.890625 227.246094 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.098039%,64.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.098039%,64.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 213.023438 173.289062 C 213.023438 179.328125 203.964844 179.328125 203.964844 173.289062 C 203.964844 167.25 213.023438 167.25 213.023438 173.289062 "/>
<path style="fill-rule:nonzero;fill:rgb(31.372549%,64.705882%,90.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.372549%,64.705882%,90.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 378.976562 55.894531 C 378.976562 62.855469 368.53125 62.855469 368.53125 55.894531 C 368.53125 48.933594 378.976562 48.933594 378.976562 55.894531 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 301.777344 229.425781 C 301.777344 232.617188 299.1875 235.207031 295.996094 235.207031 C 292.804688 235.207031 290.214844 232.617188 290.214844 229.425781 C 290.214844 226.234375 292.804688 223.644531 295.996094 223.644531 C 299.1875 223.644531 301.777344 226.234375 301.777344 229.425781 "/>
<path style="fill-rule:nonzero;fill:rgb(20.392157%,42.745098%,60.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.392157%,42.745098%,60.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 288.203125 253.941406 C 288.203125 257.195312 285.5625 259.832031 282.308594 259.832031 C 279.054688 259.832031 276.417969 257.195312 276.417969 253.941406 C 276.417969 250.6875 279.054688 248.050781 282.308594 248.050781 C 285.5625 248.050781 288.203125 250.6875 288.203125 253.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,46.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,46.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 180.210938 314.359375 C 180.210938 321.378906 169.683594 321.378906 169.683594 314.359375 C 169.683594 307.34375 180.210938 307.34375 180.210938 314.359375 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,39.215686%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,39.215686%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 217.917969 251.238281 C 217.917969 258.066406 207.675781 258.066406 207.675781 251.238281 C 207.675781 244.410156 217.917969 244.410156 217.917969 251.238281 "/>
<path style="fill-rule:nonzero;fill:rgb(30.588235%,63.137255%,88.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.588235%,63.137255%,88.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 333.492188 42.503906 C 333.492188 49.003906 323.746094 49.003906 323.746094 42.503906 C 323.746094 36.007812 333.492188 36.007812 333.492188 42.503906 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,55.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,55.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 155.699219 213.429688 C 155.699219 218.859375 147.558594 218.859375 147.558594 213.429688 C 147.558594 208 155.699219 208 155.699219 213.429688 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,49.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,49.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 240.570312 323.75 C 240.570312 327.203125 237.769531 330.003906 234.316406 330.003906 C 230.863281 330.003906 228.066406 327.203125 228.066406 323.75 C 228.066406 320.300781 230.863281 317.5 234.316406 317.5 C 237.769531 317.5 240.570312 320.300781 240.570312 323.75 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,41.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,41.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 168.132812 352.722656 C 168.132812 355.828125 165.617188 358.34375 162.515625 358.34375 C 159.410156 358.34375 156.894531 355.828125 156.894531 352.722656 C 156.894531 349.621094 159.410156 347.105469 162.515625 347.105469 C 165.617188 347.105469 168.132812 349.621094 168.132812 352.722656 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,48.235294%,68.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,48.235294%,68.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 384.425781 247.988281 C 384.425781 251.675781 381.433594 254.667969 377.746094 254.667969 C 374.054688 254.667969 371.066406 251.675781 371.066406 247.988281 C 371.066406 244.296875 374.054688 241.308594 377.746094 241.308594 C 381.433594 241.308594 384.425781 244.296875 384.425781 247.988281 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,32.941176%,47.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,32.941176%,47.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 99.050781 249.53125 C 99.050781 253.90625 92.492188 253.90625 92.492188 249.53125 C 92.492188 245.160156 99.050781 245.160156 99.050781 249.53125 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.764706%,46.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.764706%,46.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 106.761719 271.035156 C 106.761719 275.796875 99.617188 275.796875 99.617188 271.035156 C 99.617188 266.273438 106.761719 266.273438 106.761719 271.035156 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 196.484375 253.144531 C 196.484375 259.648438 186.726562 259.648438 186.726562 253.144531 C 186.726562 246.644531 196.484375 246.644531 196.484375 253.144531 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.215686%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.215686%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 172.167969 220.238281 C 172.167969 226.015625 163.503906 226.015625 163.503906 220.238281 C 163.503906 214.460938 172.167969 214.460938 172.167969 220.238281 "/>
<path style="fill-rule:nonzero;fill:rgb(29.019608%,60%,84.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.019608%,60%,84.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 321.003906 69.855469 C 321.003906 76.402344 311.183594 76.402344 311.183594 69.855469 C 311.183594 63.308594 321.003906 63.308594 321.003906 69.855469 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="19.21875" y="355.727539"/>
  <use xlink:href="#glyph0-2" x="24.112305" y="355.727539"/>
  <use xlink:href="#glyph0-3" x="26.557617" y="355.727539"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="19.21875" y="230.016602"/>
  <use xlink:href="#glyph0-2" x="24.112305" y="230.016602"/>
  <use xlink:href="#glyph0-1" x="26.557617" y="230.016602"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="19.21875" y="104.305664"/>
  <use xlink:href="#glyph0-2" x="24.112305" y="104.305664"/>
  <use xlink:href="#glyph0-3" x="26.557617" y="104.305664"/>
</g>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 352.261719 L 37.152344 352.261719 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 226.550781 L 37.152344 226.550781 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 100.839844 L 37.152344 100.839844 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 44.664062 473.589844 L 44.664062 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 138.804688 473.589844 L 138.804688 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 232.941406 473.589844 L 232.941406 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 327.078125 473.589844 L 327.078125 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 421.214844 473.589844 L 421.214844 470.847656 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="35.664062" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="40.557617" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="43.00293" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="47.896484" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="129.804688" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="134.698242" y="482.74707"/>
  <use xlink:href="#glyph0-5" x="137.143555" y="482.74707"/>
  <use xlink:href="#glyph0-3" x="142.037109" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="223.941406" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="228.834961" y="482.74707"/>
  <use xlink:href="#glyph0-3" x="231.280273" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="236.173828" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="318.078125" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="322.97168" y="482.74707"/>
  <use xlink:href="#glyph0-6" x="325.416992" y="482.74707"/>
  <use xlink:href="#glyph0-3" x="330.310547" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="412.214844" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="417.108398" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="419.553711" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="424.447266" y="482.74707"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="233.496094" y="495.477539"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-1" x="13.438477" y="241.164062"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 215.40625 L 498.519531 215.40625 L 498.519531 136.128906 L 446.800781 136.128906 Z M 446.800781 215.40625 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="151.063477"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="151.063477"/>
  <use xlink:href="#glyph1-3" x="461.444336" y="151.063477"/>
  <use xlink:href="#glyph1-4" x="464.500977" y="151.063477"/>
  <use xlink:href="#glyph1-5" x="470.000977" y="151.063477"/>
</g>
<path style="fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 175.367188 L 469.5625 175.367188 L 469.5625 158.085938 L 452.28125 158.085938 Z M 452.28125 175.367188 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 464.878906 166.726562 C 464.878906 172.003906 456.964844 172.003906 456.964844 166.726562 C 456.964844 161.449219 464.878906 161.449219 464.878906 166.726562 "/>
<path style="fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 192.644531 L 469.5625 192.644531 L 469.5625 175.363281 L 452.28125 175.363281 Z M 452.28125 192.644531 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.0625 184.003906 C 466.0625 190.859375 455.78125 190.859375 455.78125 184.003906 C 455.78125 177.152344 466.0625 177.152344 466.0625 184.003906 "/>
<path style="fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 209.925781 L 469.5625 209.925781 L 469.5625 192.644531 L 452.28125 192.644531 Z M 452.28125 209.925781 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.949219 201.285156 C 466.949219 204.613281 464.25 207.3125 460.921875 207.3125 C 457.59375 207.3125 454.894531 204.613281 454.894531 201.285156 C 454.894531 197.957031 457.59375 195.257812 460.921875 195.257812 C 464.25 195.257812 466.949219 197.957031 466.949219 201.285156 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="170.192383"/>
  <use xlink:href="#glyph0-2" x="479.936523" y="170.192383"/>
  <use xlink:href="#glyph0-5" x="482.381836" y="170.192383"/>
  <use xlink:href="#glyph0-3" x="487.275391" y="170.192383"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="187.469727"/>
  <use xlink:href="#glyph0-2" x="479.936523" y="187.469727"/>
  <use xlink:href="#glyph0-3" x="482.381836" y="187.469727"/>
  <use xlink:href="#glyph0-1" x="487.275391" y="187.469727"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="204.750977"/>
  <use xlink:href="#glyph0-2" x="479.936523" y="204.750977"/>
  <use xlink:href="#glyph0-6" x="482.381836" y="204.750977"/>
  <use xlink:href="#glyph0-3" x="487.275391" y="204.750977"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 340.203125 L 488.757812 340.203125 L 488.757812 226.363281 L 446.800781 226.363281 Z M 446.800781 340.203125 "/>
<g clip-path="url(#clip18)" clip-rule="nonzero">
<rect x="0" y="0" width="504" height="504" style="fill:url(#pattern0);stroke:none;"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="475.042969" y="310.05957"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="475.042969" y="278.391602"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="241.301758"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="241.301758"/>
  <use xlink:href="#glyph1-6" x="461.444336" y="241.301758"/>
  <use xlink:href="#glyph1-7" x="464.500977" y="241.301758"/>
  <use xlink:href="#glyph1-6" x="470.924805" y="241.301758"/>
  <use xlink:href="#glyph1-4" x="473.981445" y="241.301758"/>
  <use xlink:href="#glyph1-5" x="479.481445" y="241.301758"/>
</g>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 306.59375 L 455.738281 306.59375 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 274.925781 L 455.738281 274.925781 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 306.59375 L 469.5625 306.59375 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 274.925781 L 469.5625 274.925781 "/>
</g>
</svg>
</div><div class="nspbox"><div><p>Any plot (function or object) can be saved to file or converted to BufferedImage object.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj</br>&nbsp;&nbsp;&nbsp;(plot->file</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"histogram.jpg")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(hist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Histogram"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"data:&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;800</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;400</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:quality&nbsp;50))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:breaks&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5],</br>&nbsp;:counts&nbsp;[5&nbsp;1&nbsp;1&nbsp;1],</br>&nbsp;:density&nbsp;[0.625&nbsp;0.125&nbsp;0.125&nbsp;0.125],</br>&nbsp;:mids&nbsp;[1.5&nbsp;2.5&nbsp;3.5&nbsp;4.5],</br>&nbsp;:xname&nbsp;["c(1,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5)"],</br>&nbsp;:equidist&nbsp;[true]}</code></div></div><div class="nspbox"><image src="histogram.jpg"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->buffered-image</br>&nbsp;&nbsp;&nbsp;(fn&nbsp;[]&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]))</br>&nbsp;&nbsp;&nbsp;:width&nbsp;222</br>&nbsp;&nbsp;&nbsp;:height&nbsp;149)</code></div><div class="nspout"><code class="prettyprint lang-clj">#object[java.awt.image.BufferedImage&nbsp;0x4d3f9eb9&nbsp;"BufferedImage@4d3f9eb9:&nbsp;type&nbsp;=&nbsp;2&nbsp;DirectColorModel:&nbsp;rmask=ff0000&nbsp;gmask=ff00&nbsp;bmask=ff&nbsp;amask=ff000000&nbsp;IntegerInterleavedRaster:&nbsp;width&nbsp;=&nbsp;222&nbsp;height&nbsp;=&nbsp;149&nbsp;#Bands&nbsp;=&nbsp;4&nbsp;xOff&nbsp;=&nbsp;0&nbsp;yOff&nbsp;=&nbsp;0&nbsp;dataOffset[0]&nbsp;0"]</code></div></div><div class="nspbox"><a id="intermediary-representation-as-Java-objects"> </a><div><h2>Intermediary representation as Java objects.</h2></div></div><div class="nspbox"><div><p>Clojisr relies on the fact of an intemediary representation of java, as Java objects. This is usually hidden from the user, but may be useful sometimes. In the current implementation, this is based on <a href='https://github.com/s-u/REngine'>REngine</a>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(import</br>&nbsp;&nbsp;&nbsp;(org.rosuda.REngine&nbsp;REXP</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REXPInteger</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REXPDouble))</code></div></div><div class="nspbox"><div><p>We can convert data between R and Java.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(REXPInteger.&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><div><p>We can further convert data from the java representation to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>On the opposite direction, we can also convert Clojure data into the Java represenattion.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>There is an alternative way of conversion from Java to Clojure, naively converting the internal Java representation to a Clojure data structure. It can be handy when one wants to have plain access to all the metadata (R attributes), etc. </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->naive-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:attr&nbsp;nil,&nbsp;:value&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;"data.frame(x=1:3,y=factor('a','a','b'))"</br>&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;java->naive-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:attr</br>&nbsp;{:names&nbsp;["x",&nbsp;"y"],</br>&nbsp;&nbsp;:row.names&nbsp;[-2147483648,&nbsp;-3],</br>&nbsp;&nbsp;:class&nbsp;["data.frame"]},</br>&nbsp;:value&nbsp;{:x&nbsp;[1,&nbsp;2,&nbsp;3],&nbsp;:y&nbsp;["b",&nbsp;"b",&nbsp;"b"]}}</code></div></div><div class="nspbox"><div><p>We can evaluate R code and immediately return the result as a java object, without ever creating a handle to an R object holding the result:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPDouble))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPDouble]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.asDoubles)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="more-data-conversion-examples"> </a><div><h2>More data conversion examples</h2></div></div><div class="nspbox"><div><p>Convertion between R and Clojure always passes through Java. To stress this, we write it explicitly in the following examples.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,b='hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;"table(c('a','b','a','b','a','b','a','b'),&nbsp;c(1,1,2,2,3,3,1,1))"</br>&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((r&nbsp;"deparse"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">["list(a&nbsp;=&nbsp;1:2,&nbsp;b&nbsp;=&nbsp;\"hi!\")"]</code></div></div><div class="nspbox"><div><h3>Basic types convertion clj->r->clj</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;clj->r->clj&nbsp;(comp&nbsp;r->clj&nbsp;r))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr.v1.tutorial-test/clj->r->clj</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;nil)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10&nbsp;11])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10.0&nbsp;11.0])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;(list&nbsp;10.0&nbsp;11.0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[2.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[2.0]}]</code></div></div><div class="nspbox"><div><h3>Various R objects</h3></div></div><div class="nspbox"><div><p>Named list</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"list(a=1,b=c(10,20),c='hi!')")&nbsp;;;&nbsp;named</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:a&nbsp;[1.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:b&nbsp;[10.0&nbsp;20.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:c&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Array of doubles</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10,20,30)")&nbsp;;;&nbsp;array&nbsp;of</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;doubles</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;20.0&nbsp;30.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;20.0&nbsp;30.0]]</code></div></div><div class="nspbox"><div><p>Timeseries</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;r.datasets/euro)&nbsp;;;&nbsp;timeseries</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;13.7603))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;13.7603]</code></div></div><div class="nspbox"><div><p>Pairlist</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r.base/formals&nbsp;r.stats/dnorm)&nbsp;;;&nbsp;pairlist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;'(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)]</code></div></div><div class="nspbox"><div><p>NULL</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"NULL")&nbsp;;;&nbsp;null</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div><p>TRUE/FALSE</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"TRUE")&nbsp;;;&nbsp;true/false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[true]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[true]]</code></div></div><div class="nspbox"><a id="inspecting-R-functions"> </a><div><h2>Inspecting R functions</h2></div></div><div class="nspbox"><div><p>The <code>mean</code> function is defined to expect arguments <code>x</code> and <code>...</code>. These arguments have no default values (thus, its formals have empty symbols as values):</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><div><p>It is an <a href='http://adv-r.had.co.nz/S3.html'>S3 generic function</a> function, which we can realize by printing it:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'mean)</code></div><div class="nspout"><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;...)&nbsp;</br>UseMethod("mean")</br><bytecode:&nbsp;0x7fffd2c8a3a0></br><environment:&nbsp;namespace:base></code></div></div><div class="nspbox"><div><p>So, we can expect possibly more details when inspecting its default implementation. Now, we see some arguments that do have default values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean.default</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:trim&nbsp;[0.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:na.rm&nbsp;[false],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><a id="R-function-arglists"> </a><div><h2>R-function-arglists</h2></div></div><div class="nspbox"><div><p>As we saw earlier, R functions are Clojure functions. The arglists of functions brought up by <code>require-r</code> match the expected arguments. Here are some examples:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[stats]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[grDevices])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;[#'r.base/mean&nbsp;#'r.base/mean-default</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.stats/arima0</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.grDevices/dev-off</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/Sys-info</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/summary-default</br>&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;Primitive&nbsp;functions:</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/sin&nbsp;#'r.base/sum]</br>&nbsp;&nbsp;&nbsp;(map</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[f]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(update&nbsp;:ns</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(comp&nbsp;symbol&nbsp;str)))))</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[trim&nbsp;na.rm</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[order&nbsp;seasonal&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init&nbsp;method&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;dev-off,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;Sys-info,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([object&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[...&nbsp;digits</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;sin,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;sum,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base})))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;([x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[order</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seasonal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})]</code></div></div><div class="nspbox"><a id="using-Renjin"> </a><div><h2>Using Renjin</h2></div></div><div class="nspbox"><div><p>In the followint example, we use a differnt R backend (the pure JVM Renjin) for reading a csv, without changing the default backend (which is the usual R using Rserve).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'clojisr.v1.renjin)</br>&nbsp;(let&nbsp;[path&nbsp;"/tmp/data.csv"]</br>&nbsp;&nbsp;&nbsp;(spit&nbsp;path&nbsp;"a,b,c\n1,2,3\n4,5,6\n")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(read.csv&nbsp;~path)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:session-type&nbsp;:renjin})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/r->clj&nbsp;:session-args</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:session-type&nbsp;:renjin})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{:a&nbsp;1,&nbsp;:b&nbsp;2,&nbsp;:c&nbsp;3}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:a&nbsp;4,&nbsp;:b&nbsp;5,&nbsp;:c&nbsp;6}]))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;({:a&nbsp;1,&nbsp;:b&nbsp;2,&nbsp;:c&nbsp;3}&nbsp;{:a&nbsp;4,&nbsp;:b&nbsp;5,&nbsp;:c&nbsp;6})]</code></div></div><hr /><div>Checks: <b class="PASSED">59 PASSED </b><hr /></div><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Tue Mar 24 01:01:57 CET 2020.</small></i><hr /></div></div></body></html></html>